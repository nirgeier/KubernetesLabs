<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A collection of Kubernetes Labs for learning and practicing Kubernetes skills."><meta name=author content="Nir Geier - nirgeier@gmail.com"><link href=https://nirgeier.github.io/KubernetesLabs/13-HelmChart/ rel=canonical><link href=../29-EFK/ rel=prev><link href=../18-ArgoCD/ rel=next><link rel=icon href=../assets/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.16"><title>13 HelmChart - KubernetesLabs</title><link rel=stylesheet href=../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%202a7%207%200%200%200-7%207c0%202.38%201.19%204.47%203%205.74V17a1%201%200%200%200%201%201h6a1%201%200%200%200%201-1v-2.26c1.81-1.27%203-3.36%203-5.74a7%207%200%200%200-7-7M9%2021a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1v-1H9z%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Mulish";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=../css/print-site.css><link rel=stylesheet href=../css/print-site-material.css><link rel=stylesheet href="../assets/stylesheets/codewizard.css?v=1772199666"><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#helm-chart class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine classes --> <!-- Header --> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <!-- Link to home --> <a href=.. title=KubernetesLabs class="md-header__button md-logo" aria-label=KubernetesLabs data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> KubernetesLabs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 13 HelmChart </span> </div> </div> </div> <div class=m-social__top> <!-- Social links --> <div class=md-social> <a href=https://github.com/nirgeier/KubernetesLabs target=_blank rel=noopener title="View on GitHub" class="md-social__link social-class__github"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://github.com/nirgeier/KubernetesLabs/network/members target=_blank rel=noopener title="Fork this repo" class="md-social__link social-class__fork"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg> </a> <a href=https://github.com/nirgeier/KubernetesLabs/stargazers target=_blank rel=noopener title="Star this repo" class="md-social__link social-class__star"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg> </a> <a href=https://www.linkedin.com/in/nirgeier/ target=_blank rel=noopener title="Connect on LinkedIn" class="md-social__link social-class__linkedin"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://discord.gg/U6xW23Ss target=_blank rel=noopener title="Follow me on Discord" class="md-social__link social-class__discord"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://stackoverflow.com/users/1755598/codewizard target=_blank rel=noopener title="Follow me on Stack Overflow" class="md-social__link social-class__stackoverflow"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg> </a> <a href=https://wa.me/972548122310 target=_blank rel=noopener title="Follow me on WhatsApp" class="md-social__link social-class__whatsapp"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg> </a> <a href=mailto:nirg@codewizard.co.il target=_blank rel=noopener title="Email me" class="md-social__link social-class__email"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg> </a> </div> </div> <!-- Color palette toggle --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-hidden=true type=radio name=__palette id=__palette_0> </form> <!-- User preference: color palette --> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <!-- Site language selector --> <!-- Button to open search modal --> <!-- Check if search is actually enabled - see https://t.ly/DT_0V --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/nirgeier/KubernetesLabs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> nirgeier/KubernetesLabs </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../welcome/ class=md-tabs__link> Start Here </a> </li> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../05-Services/ class=md-tabs__link> Networking </a> </li> <li class=md-tabs__item> <a href=../31-RBAC/ class=md-tabs__link> Security </a> </li> <li class=md-tabs__item> <a href=../06-DataStore/ class=md-tabs__link> Storage & Config </a> </li> <li class=md-tabs__item> <a href=../14-Logging/ class=md-tabs__link> Observability </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> GitOps & CI/CD </a> </li> <li class=md-tabs__item> <a href=../11-CRD-Custom-Resource-Definition/ class=md-tabs__link> Advanced </a> </li> <li class=md-tabs__item> <a href=../Tasks/ class=md-tabs__link> Tasks </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=KubernetesLabs class="md-nav__button md-logo" aria-label=KubernetesLabs data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> KubernetesLabs </label> <div class=md-nav__source> <a href=https://github.com/nirgeier/KubernetesLabs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> nirgeier/KubernetesLabs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../welcome/ class=md-nav__link> <span class=md-ellipsis> Start Here </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=.. class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../05-Services/ class=md-nav__link> <span class=md-ellipsis> Networking </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../31-RBAC/ class=md-nav__link> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../06-DataStore/ class=md-nav__link> <span class=md-ellipsis> Storage & Config </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../14-Logging/ class=md-nav__link> <span class=md-ellipsis> Observability </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7 checked> <div class="md-nav__link md-nav__container"> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> GitOps & CI/CD </span> </a> <label class="md-nav__link md-nav__link--active" for=__nav_7 id=__nav_7_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=true> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> GitOps & CI/CD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../18-ArgoCD/ class=md-nav__link> <span class=md-ellipsis> 18 ArgoCD </span> </a> </li> <li class=md-nav__item> <a href=../23-HelmOperator/ class=md-nav__link> <span class=md-ellipsis> 23 HelmOperator </span> </a> </li> <li class=md-nav__item> <a href=../26-kubeapps/ class=md-nav__link> <span class=md-ellipsis> 26 Kubeapps </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../11-CRD-Custom-Resource-Definition/ class=md-nav__link> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Tasks/ class=md-nav__link> <span class=md-ellipsis> Tasks </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=helm-chart>Helm Chart<a class=headerlink href=#helm-chart title="Permanent link">&para;</a></h1> <p><img src=../assets/images/helm-k8s-lab.png alt="Helm Logo"></p> <ul> <li>Welcome to the <code>Helm</code> Chart hands-on lab! In this tutorial, you&rsquo;ll learn the essentials of <code>Helm</code> (version 3), the package manager for Kubernetes.</li> <li>You&rsquo;ll build, package, install, and manage applications using <code>Helm</code> charts, gaining practical experience with real Kubernetes resources.</li> </ul> <hr> <h2 id=what-will-we-learn>What will we learn?<a class=headerlink href=#what-will-we-learn title="Permanent link">&para;</a></h2> <ul> <li>What <code>Helm</code> is and why is it useful</li> <li><code>Helm</code> chart structure and key files</li> <li>Common <code>Helm</code> commands for managing releases</li> <li>How to create, pack, install, upgrade, and rollback a <code>Helm</code> chart</li> <li>Go template language syntax for chart templates</li> <li>Built-in objects and named templates</li> <li>Advanced features: hooks, dependencies, conditionals, and testing</li> <li>Troubleshooting and best practices</li> </ul> <hr> <h2 id=official-documentation-references>Official Documentation &amp; References<a class=headerlink href=#official-documentation-references title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Resource</th> <th>Link</th> </tr> </thead> <tbody> <tr> <td>Helm Official Docs</td> <td><a href=https://helm.sh/docs/ >helm.sh/docs</a></td> </tr> <tr> <td>Chart Template Guide</td> <td><a href=https://helm.sh/docs/chart_template_guide/ >helm.sh/docs/chart_template_guide</a></td> </tr> <tr> <td>Built-in Objects</td> <td><a href=https://helm.sh/docs/chart_template_guide/builtin_objects/ >helm.sh/docs/chart_template_guide/builtin_objects</a></td> </tr> <tr> <td>Values Files</td> <td><a href=https://helm.sh/docs/chart_template_guide/values_files/ >helm.sh/docs/chart_template_guide/values_files</a></td> </tr> <tr> <td>Template Functions &amp; Pipelines</td> <td><a href=https://helm.sh/docs/chart_template_guide/functions_and_pipelines/ >helm.sh/docs/chart_template_guide/functions_and_pipelines</a></td> </tr> <tr> <td>Flow Control (<code>if</code>, <code>range</code>, <code>with</code>)</td> <td><a href=https://helm.sh/docs/chart_template_guide/control_structures/ >helm.sh/docs/chart_template_guide/control_structures</a></td> </tr> <tr> <td>Named Templates (<code>_helpers.tpl</code>)</td> <td><a href=https://helm.sh/docs/chart_template_guide/named_templates/ >helm.sh/docs/chart_template_guide/named_templates</a></td> </tr> <tr> <td>Chart Hooks</td> <td><a href=https://helm.sh/docs/topics/charts_hooks/ >helm.sh/docs/topics/charts_hooks</a></td> </tr> <tr> <td>Chart Dependencies</td> <td><a href=https://helm.sh/docs/helm/helm_dependency/ >helm.sh/docs/helm/helm_dependency</a></td> </tr> <tr> <td>Chart Tests</td> <td><a href=https://helm.sh/docs/topics/chart_tests/ >helm.sh/docs/topics/chart_tests</a></td> </tr> <tr> <td>Chart Best Practices</td> <td><a href=https://helm.sh/docs/chart_best_practices/ >helm.sh/docs/chart_best_practices</a></td> </tr> <tr> <td>Go Template Language</td> <td><a href=https://pkg.go.dev/text/template>pkg.go.dev/text/template</a></td> </tr> <tr> <td>Sprig Template Functions</td> <td><a href=https://masterminds.github.io/sprig/ >masterminds.github.io/sprig</a></td> </tr> <tr> <td>Artifact Hub (Chart Repository)</td> <td><a href=https://artifacthub.io/ >artifacthub.io</a></td> </tr> <tr> <td>Helm Cheat Sheet</td> <td><a href=https://helm.sh/docs/intro/cheatsheet/ >helm.sh/docs/intro/cheatsheet</a></td> </tr> </tbody> </table> <hr> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <ul> <li><code>Helm</code> is the <strong>package manager</strong> for Kubernetes.</li> <li>It simplifies the deployment, management, and upgrade of applications on your Kubernetes cluster.</li> <li><code>Helm</code> helps you manage Kubernetes applications by providing a way to define, install, and upgrade complex Kubernetes applications.</li> <li> <p>When packing applications as <code>Helm</code> charts, you gain a standardized and reusable approach for deploying and managing your services.</p> </li> <li> <p>A <code>Helm</code> chart consists of a few files that define the Kubernetes resources that will be <strong>created</strong> when the chart is installed.</p> </li> <li>These files include the:<ul> <li><code>Chart.yaml</code> file, which contains metadata about the chart, such as its name and version, and the chart&rsquo;s dependencies and maintainers.</li> <li><code>values.yaml</code> file, which contains the configuration values for the chart.</li> <li>The <code>templates</code> directory which contains the Kubernetes resource templates to be used to create the actual resources in the cluster.</li> </ul> </li> </ul> <h3 id=terminology>Terminology<a class=headerlink href=#terminology title="Permanent link">&para;</a></h3> <div class="tabbed-set tabbed-alternate" data-tabs=1:1><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Chart</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <ul> <li>A <code>Helm</code> package is called a <strong>chart</strong>.</li> <li>Charts are versioned, shareable packages that contain all the Kubernetes resources needed to run an application.</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=2:1><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Release</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <ul> <li>A specific instance of a chart is called a <strong>release</strong>.</li> <li>Each release is a deployed <em>version of a chart</em>, with its own configuration, resources, and revision history.</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=3:1><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Repository</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <ul> <li>A collection of charts is stored in a <code>Helm</code> repository.</li> <li><code>Helm</code> charts can be hosted in public or private repositories for easy sharing and distribution.</li> </ul> <h3 id=chart-files-and-folders>Chart files and folders<a class=headerlink href=#chart-files-and-folders title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Filename/Folder</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Chart.yaml</code></td> <td>Contains metadata about the chart, including its name, version, dependencies, and maintainers.</td> </tr> <tr> <td><code>Chart.lock</code></td> <td>Lock file listing exact versions of resolved dependencies.</td> </tr> <tr> <td><code>values.yaml</code></td> <td>Defines <strong>default configuration</strong> values for the chart. Users can override these values during installation.</td> </tr> <tr> <td><code>values.schema.json</code></td> <td>Optional JSON Schema for validating <code>values.yaml</code> structure.</td> </tr> <tr> <td><code>templates/</code></td> <td>Directory containing Kubernetes manifest templates written in the Go template language.</td> </tr> <tr> <td><code>templates/NOTES.txt</code></td> <td>A plain text file containing usage notes displayed after installation.</td> </tr> <tr> <td><code>templates/_helpers.tpl</code></td> <td>A file containing reusable named templates (partials).</td> </tr> <tr> <td><code>templates/tests/</code></td> <td>Directory containing test pod definitions for <code>helm test</code>.</td> </tr> <tr> <td><code>charts/</code></td> <td>Directory containing dependencies (subcharts) of the chart.</td> </tr> <tr> <td><code>crds/</code></td> <td>Directory containing Custom Resource Definitions (installed before templates).</td> </tr> <tr> <td><code>README.md</code></td> <td>Documentation for the chart, explaining how to use and configure it.</td> </tr> </tbody> </table> <h3 id=git-helm-chart-repo-structure>Git HELM chart repo structure<a class=headerlink href=#git-helm-chart-repo-structure title="Permanent link">&para;</a></h3> <p>While there are many ways to structure your Helm charts in a Git repository, here are the two most common patterns:</p> <h4 id=pattern-1-one-repo-per-chart>Pattern 1: One Repo per Chart<a class=headerlink href=#pattern-1-one-repo-per-chart title="Permanent link">&para;</a></h4> <ul> <li><strong>Structure</strong>: The root of the repository contains the <code>Chart.yaml</code>, <code>values.yaml</code>, and <code>templates/</code> folder.</li> <li><strong>Use Case</strong>: Best for microservices where each service has its own repository and its own chart.</li> <li><strong>CI/CD</strong>: The chart is versioned and released alongside the application code.</li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>my-app/
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>├── Chart.yaml
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>├── values.yaml
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>├── templates/
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>├── src/            # Application source code
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>└── ...
</span></code></pre></div> <h4 id=pattern-2-dedicated-charts-repository-monorepo>Pattern 2: Dedicated Charts Repository (Monorepo)<a class=headerlink href=#pattern-2-dedicated-charts-repository-monorepo title="Permanent link">&para;</a></h4> <ul> <li><strong>Structure</strong>: A central repository containing multiple charts in a <code>charts/</code> directory.</li> <li><strong>Use Case</strong>: Best for managing infrastructure charts (e.g., redis, postgres) or when you want centralized management of all your organization&rsquo;s charts.</li> <li><strong>Hosting</strong>: Often used with GitHub Pages to host the chart repository index (<code>index.yaml</code>) and packaged charts (<code>.tgz</code>).</li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>my-charts-repo/
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>├── charts/
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>│   ├── redis/
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>│   │   ├── Chart.yaml
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>│   │   └── ...
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>│   └── frontend/
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>│       ├── Chart.yaml
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>│       └── ...
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>├── docs/           # Contains generated index.yaml and .tgz files (GitHub Pages source)
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>└── README.md
</span></code></pre></div> <h4 id=github-pages-as-a-helm-repository>GitHub Pages as a Helm Repository<a class=headerlink href=#github-pages-as-a-helm-repository title="Permanent link">&para;</a></h4> <p>You can easily verify your Git repository into a Helm Chart Repository using GitHub Pages:</p> <ol> <li><strong>Docs Folder</strong>: Create a <code>docs</code> folder in your repo.</li> <li><strong>Package</strong>: Run <code>helm package ./charts/mychart -d ./docs</code>.</li> <li><strong>Index</strong>: Run <code>helm repo index ./docs --url https://&lt;username&gt;.github.io/&lt;repo-name&gt;/</code>.</li> <li><strong>Publish</strong>: Enable GitHub Pages for the <code>docs</code> folder.</li> </ol> <p>Users can then add your repo: <div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>my-repo<span class=w> </span>https://&lt;username&gt;.github.io/&lt;repo-name&gt;/
</span></code></pre></div></p> <h5 id=codewizard-helm-demo-helm-chart-structure>codewizard-helm-demo Helm Chart structure<a class=headerlink href=#codewizard-helm-demo-helm-chart-structure title="Permanent link">&para;</a></h5> <div class="language-sh highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>-<span class=w> </span>Chart.yaml<span class=w>        </span><span class=c1># Defines chart metadata and values schema</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>-<span class=w> </span>values.yaml<span class=w>       </span><span class=c1># Default configuration values</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>-<span class=w> </span>templates/<span class=w>        </span><span class=c1># Deployment templates using Go templating language</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>  </span>-<span class=w> </span>_helpers.tpl<span class=w>    </span><span class=c1># Named templates (partials) used across templates</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>  </span>-<span class=w> </span>Namespace.yaml<span class=w>  </span><span class=c1># Namespace manifest template</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>  </span>-<span class=w> </span>ConfigMap.yaml<span class=w>  </span><span class=c1># ConfigMap manifest template</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>  </span>-<span class=w> </span>Deployment.yaml<span class=w> </span><span class=c1># Deployment manifest template</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>  </span>-<span class=w> </span>Service.yaml<span class=w>    </span><span class=c1># Service manifest template</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>-<span class=w> </span>README.md<span class=w>         </span><span class=c1># Documentation for your chart</span>
</span></code></pre></div> <h3 id=common-helm-commands>Common <code>Helm</code> Commands<a class=headerlink href=#common-helm-commands title="Permanent link">&para;</a></h3> <p>Below are the most common <code>Helm</code> commands you&rsquo;ll use when working with <code>Helm</code> charts. Each command includes syntax, description, and detailed usage examples.</p> <details class=example> <summary><code>helm create</code> - Create a new chart</summary> <p><strong>Syntax:</strong> <code>helm create &lt;chart-name&gt;</code></p> <p><strong>Description:</strong> Creates a new Helm chart with the specified name. This command generates a chart directory with a standard structure including default templates, values.yaml, and Chart.yaml.</p> <ul> <li>Creates a new chart directory with a standard structure</li> <li>Includes default templates, values.yaml, and Chart.yaml</li> <li>Provides a starting point that follows Helm best practices</li> <li> <p>You can customize the generated files to match your application needs</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1># Create a new chart named &#39;myapp&#39;</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>helm<span class=w> </span>create<span class=w> </span>myapp
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=c1># View the generated structure</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>tree<span class=w> </span>myapp
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=c1># Output shows:</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=c1># myapp/</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=c1># ├── Chart.yaml</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=c1># ├── values.yaml</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=c1># ├── charts/</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=c1># └── templates/</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=c1>#     ├── NOTES.txt</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=c1>#     ├── _helpers.tpl</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=c1>#     ├── deployment.yaml</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=c1>#     ├── service.yaml</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=c1>#     └── ...</span>
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm install</code> - Install a chart</summary> <p><strong>Syntax:</strong> <code>helm install &lt;release-name&gt; &lt;chart-path&gt;</code></p> <p><strong>Description:</strong> Installs a Helm chart to your Kubernetes cluster, creating a new release with the specified name.</p> <ul> <li>Deploys a chart to your Kubernetes cluster</li> <li>Creates a new release with a unique name</li> <li>Can override values using <code>--set</code> or <code>-f</code> flags</li> <li> <p>Use <code>--dry-run</code> to preview changes without applying them</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># Basic install</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>helm<span class=w> </span>install<span class=w> </span>myrelease<span class=w> </span>./myapp
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=c1># Install with custom values file</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>helm<span class=w> </span>install<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>-f<span class=w> </span>custom-values.yaml
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=c1># Install with inline value overrides</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>helm<span class=w> </span>install<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>3</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=c1># Install in a specific namespace</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>helm<span class=w> </span>install<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--namespace<span class=w> </span>production<span class=w> </span>--create-namespace
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=c1># Dry run to see what would be installed</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>helm<span class=w> </span>install<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--dry-run<span class=w> </span>--debug
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=c1># Install from a packaged chart</span>
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>helm<span class=w> </span>install<span class=w> </span>myrelease<span class=w> </span>myapp-1.0.0.tgz
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>
</span><span id=__span-5-19><a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a><span class=c1># Install with a generated name</span>
</span><span id=__span-5-20><a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a>helm<span class=w> </span>install<span class=w> </span>myapp<span class=w> </span>--generate-name
</span><span id=__span-5-21><a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a>
</span><span id=__span-5-22><a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a><span class=c1># Wait for all resources to be ready before marking release as successful</span>
</span><span id=__span-5-23><a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>helm<span class=w> </span>install<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--wait<span class=w> </span>--timeout<span class=w> </span>5m
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm upgrade</code> - Upgrade a release</summary> <p><strong>Syntax:</strong> <code>helm upgrade &lt;release-name&gt; &lt;chart-path&gt;</code></p> <p><strong>Description:</strong> Upgrades an installed release with a new version of a chart or updated configuration values.</p> <ul> <li>Updates an existing release with new configurations or chart version</li> <li>Maintains revision history for rollback capability</li> <li>Can use <code>--install</code> to install if release doesn&rsquo;t exist</li> <li> <p>Supports value overrides like install command</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1># Basic upgrade</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=c1># Upgrade with new values</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>-f<span class=w> </span>production-values.yaml
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=c1># Upgrade or install if not exists (atomic operation)</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--install
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=c1># Upgrade with specific values</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--set<span class=w> </span>image.tag<span class=o>=</span>v2.0.0
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=c1># Force resource updates even if unchanged</span>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--force
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=c1># Reuse previous values and merge with new ones</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--reuse-values<span class=w> </span>--set<span class=w> </span><span class=nv>newKey</span><span class=o>=</span>newValue
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a>
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=c1># Reset values to chart defaults</span>
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--reset-values
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a>
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=c1># Wait for upgrade to complete</span>
</span><span id=__span-6-23><a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--wait<span class=w> </span>--timeout<span class=w> </span>10m
</span><span id=__span-6-24><a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a>
</span><span id=__span-6-25><a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a><span class=c1># Atomic upgrade - rollback on failure</span>
</span><span id=__span-6-26><a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a>helm<span class=w> </span>upgrade<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--atomic<span class=w> </span>--timeout<span class=w> </span>5m
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm uninstall</code> - Remove a release</summary> <p><strong>Syntax:</strong> <code>helm uninstall &lt;release-name&gt;</code></p> <p><strong>Description:</strong> Uninstalls a release from the Kubernetes cluster, removing all associated resources.</p> <ul> <li>Deletes a release and all associated Kubernetes resources</li> <li>Removes the release from Helm&rsquo;s history by default</li> <li>Use <code>--keep-history</code> to retain release history for potential restoration</li> <li> <p>Respects hook deletion policies defined in templates</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># Basic uninstall</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>helm<span class=w> </span>uninstall<span class=w> </span>myrelease
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=c1># Uninstall but keep history (allows rollback)</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>helm<span class=w> </span>uninstall<span class=w> </span>myrelease<span class=w> </span>--keep-history
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=c1># Uninstall from specific namespace</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>helm<span class=w> </span>uninstall<span class=w> </span>myrelease<span class=w> </span>--namespace<span class=w> </span>production
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=c1># Uninstall with custom timeout</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>helm<span class=w> </span>uninstall<span class=w> </span>myrelease<span class=w> </span>--timeout<span class=w> </span>5m
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=c1># Dry run - see what would be deleted</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>helm<span class=w> </span>uninstall<span class=w> </span>myrelease<span class=w> </span>--dry-run
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a>
</span><span id=__span-7-16><a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a><span class=c1># Uninstall and wait for all resources to be deleted</span>
</span><span id=__span-7-17><a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>helm<span class=w> </span>uninstall<span class=w> </span>myrelease<span class=w> </span>--wait
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm list</code> - List releases</summary> <p><strong>Syntax:</strong> <code>helm list</code></p> <p><strong>Description:</strong> Lists all installed Helm releases in the current or specified namespace.</p> <ul> <li>Shows all releases in the current namespace</li> <li>Displays release name, namespace, revision, status, and chart info</li> <li>Supports filtering and output formatting options</li> <li> <p>Use <code>--all-namespaces</code> to see releases across all namespaces</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># List all releases in current namespace</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>helm<span class=w> </span>list
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=c1># List all releases across all namespaces</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>helm<span class=w> </span>list<span class=w> </span>--all-namespaces
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=c1># List releases in specific namespace</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>helm<span class=w> </span>list<span class=w> </span>--namespace<span class=w> </span>production
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=c1># Show all releases including uninstalled (if kept history)</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>helm<span class=w> </span>list<span class=w> </span>--all
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=c1># Filter by status</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>helm<span class=w> </span>list<span class=w> </span>--deployed
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>helm<span class=w> </span>list<span class=w> </span>--failed
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>helm<span class=w> </span>list<span class=w> </span>--pending
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=c1># Show more details (longer output)</span>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>helm<span class=w> </span>list<span class=w> </span>--all-namespaces<span class=w> </span>-o<span class=w> </span>wide
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=c1># Output as JSON</span>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>helm<span class=w> </span>list<span class=w> </span>-o<span class=w> </span>json
</span><span id=__span-8-23><a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a>
</span><span id=__span-8-24><a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a><span class=c1># Output as YAML</span>
</span><span id=__span-8-25><a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>helm<span class=w> </span>list<span class=w> </span>-o<span class=w> </span>yaml
</span><span id=__span-8-26><a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a>
</span><span id=__span-8-27><a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a><span class=c1># Filter releases by name pattern</span>
</span><span id=__span-8-28><a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a>helm<span class=w> </span>list<span class=w> </span>--filter<span class=w> </span><span class=s1>&#39;myapp.*&#39;</span>
</span><span id=__span-8-29><a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a>
</span><span id=__span-8-30><a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a><span class=c1># Limit number of results</span>
</span><span id=__span-8-31><a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a>helm<span class=w> </span>list<span class=w> </span>--max<span class=w> </span><span class=m>10</span>
</span><span id=__span-8-32><a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a>
</span><span id=__span-8-33><a id=__codelineno-8-33 name=__codelineno-8-33 href=#__codelineno-8-33></a><span class=c1># Sort by release date</span>
</span><span id=__span-8-34><a id=__codelineno-8-34 name=__codelineno-8-34 href=#__codelineno-8-34></a>helm<span class=w> </span>list<span class=w> </span>--date
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm status</code> - Show release status</summary> <p><strong>Syntax:</strong> <code>helm status &lt;release-name&gt;</code></p> <p><strong>Description:</strong> Shows the status of a deployed Helm release including resource information and deployment details.</p> <ul> <li>Displays detailed information about a deployed release</li> <li>Shows resource status, last deployment time, and revision number</li> <li>Includes NOTES.txt content if present</li> <li> <p>Useful for debugging and verifying deployments</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># Show status of a release</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>helm<span class=w> </span>status<span class=w> </span>myrelease
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=c1># Show status from specific namespace</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>helm<span class=w> </span>status<span class=w> </span>myrelease<span class=w> </span>--namespace<span class=w> </span>production
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=c1># Show status at specific revision</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>helm<span class=w> </span>status<span class=w> </span>myrelease<span class=w> </span>--revision<span class=w> </span><span class=m>2</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=c1># Output as JSON</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>helm<span class=w> </span>status<span class=w> </span>myrelease<span class=w> </span>-o<span class=w> </span>json
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=c1># Output as YAML</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>helm<span class=w> </span>status<span class=w> </span>myrelease<span class=w> </span>-o<span class=w> </span>yaml
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=c1># Show status without displaying NOTES</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>helm<span class=w> </span>status<span class=w> </span>myrelease<span class=w> </span>--show-desc
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm rollback</code> - Rollback to previous revision</summary> <p><strong>Syntax:</strong> <code>helm rollback &lt;release-name&gt; [revision]</code></p> <p><strong>Description:</strong> Rollbacks a release to a previous revision number.</p> <ul> <li>Reverts a release to a previous revision</li> <li>Useful for quick recovery from failed upgrades</li> <li>Creates a new revision (rollback is tracked in history)</li> <li> <p>Can rollback to any previously deployed revision</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># Rollback to previous revision</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=c1># Rollback to specific revision</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease<span class=w> </span><span class=m>3</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=c1># Rollback with timeout</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease<span class=w> </span><span class=m>2</span><span class=w> </span>--timeout<span class=w> </span>5m
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=c1># Wait for rollback to complete</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease<span class=w> </span>--wait
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=c1># Force rollback even if resources haven&#39;t changed</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease<span class=w> </span>--force
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=c1># Dry run - see what would be rolled back</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease<span class=w> </span>--dry-run
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=c1># Recreate resources (delete and recreate)</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease<span class=w> </span>--recreate-pods
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a>
</span><span id=__span-10-22><a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a><span class=c1># Cleanup on fail</span>
</span><span id=__span-10-23><a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a>helm<span class=w> </span>rollback<span class=w> </span>myrelease<span class=w> </span>--cleanup-on-fail
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm get all</code> - Get release information</summary> <p><strong>Syntax:</strong> <code>helm get all &lt;release-name&gt;</code></p> <p><strong>Description:</strong> Retrieves all information about a deployed release including templates, values, hooks, and notes.</p> <ul> <li>Retrieves all information about a release</li> <li>Shows manifest, values, hooks, and notes</li> <li>Useful for debugging and understanding what was deployed</li> <li> <p>Can retrieve information from specific revisions</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1># Get all info about a release</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>helm<span class=w> </span>get<span class=w> </span>all<span class=w> </span>myrelease
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=c1># Get all info from specific revision</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>helm<span class=w> </span>get<span class=w> </span>all<span class=w> </span>myrelease<span class=w> </span>--revision<span class=w> </span><span class=m>2</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=c1># Get all info from specific namespace</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>helm<span class=w> </span>get<span class=w> </span>all<span class=w> </span>myrelease<span class=w> </span>--namespace<span class=w> </span>production
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=c1># Output as template for reuse</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>helm<span class=w> </span>get<span class=w> </span>all<span class=w> </span>myrelease<span class=w> </span>--template<span class=w> </span><span class=s1>&#39;{{.Release.Manifest}}&#39;</span>
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm get values</code> - Get release values</summary> <p><strong>Syntax:</strong> <code>helm get values &lt;release-name&gt;</code></p> <p><strong>Description:</strong> Shows the user-supplied values for a release.</p> <ul> <li>Shows the values that were used for a specific release</li> <li>Displays only user-supplied values by default</li> <li>Use <code>--all</code> to see all values including defaults</li> <li> <p>Useful for understanding current configuration</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># Get user-supplied values</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>myrelease
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=c1># Get all values (including defaults)</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>myrelease<span class=w> </span>--all
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=c1># Get values from specific revision</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>myrelease<span class=w> </span>--revision<span class=w> </span><span class=m>2</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=c1># Output as JSON</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>myrelease<span class=w> </span>-o<span class=w> </span>json
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=c1># Output as YAML</span>
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>myrelease<span class=w> </span>-o<span class=w> </span>yaml
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a><span class=c1># Save values to file</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>myrelease<span class=w> </span>&gt;<span class=w> </span>current-values.yaml
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm show values</code> - Show chart default values</summary> <p><strong>Syntax:</strong> <code>helm show values &lt;chart-name&gt;</code></p> <p><strong>Description:</strong> Shows the default values of a Helm chart before installation.</p> <ul> <li>Displays the default values.yaml from a chart</li> <li>Works with local charts, remote charts, or chart repositories</li> <li>Useful for understanding available configuration options</li> <li> <p>Shows values before installation</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># Show default values of local chart</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>helm<span class=w> </span>show<span class=w> </span>values<span class=w> </span>./myapp
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=c1># Show values from packaged chart</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>helm<span class=w> </span>show<span class=w> </span>values<span class=w> </span>myapp-1.0.0.tgz
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=c1># Show values from chart repository</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>helm<span class=w> </span>show<span class=w> </span>values<span class=w> </span>bitnami/nginx
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a><span class=c1># Show values at specific version</span>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a>helm<span class=w> </span>show<span class=w> </span>values<span class=w> </span>bitnami/nginx<span class=w> </span>--version<span class=w> </span><span class=m>15</span>.0.0
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a><span class=c1># Save default values to file</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a>helm<span class=w> </span>show<span class=w> </span>values<span class=w> </span>./myapp<span class=w> </span>&gt;<span class=w> </span>default-values.yaml
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm template</code> - Render templates locally</summary> <p><strong>Syntax:</strong> <code>helm template &lt;release-name&gt; &lt;chart-path&gt;</code></p> <p><strong>Description:</strong> Renders chart templates locally without installing to the cluster.</p> <ul> <li>Renders chart templates locally without connecting to Kubernetes</li> <li>Outputs rendered YAML manifests to stdout</li> <li>Useful for debugging templates and previewing changes</li> <li> <p>Does not require cluster access</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># Render templates to stdout</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=c1># Render with custom values</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>-f<span class=w> </span>custom-values.yaml
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=c1># Render with inline values</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>3</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=c1># Render and save to file</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>&gt;<span class=w> </span>rendered-manifests.yaml
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a><span class=c1># Show only specific template</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--show-only<span class=w> </span>templates/deployment.yaml
</span><span id=__span-14-15><a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a>
</span><span id=__span-14-16><a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a><span class=c1># Debug mode - show more information</span>
</span><span id=__span-14-17><a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--debug
</span><span id=__span-14-18><a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a>
</span><span id=__span-14-19><a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a><span class=c1># Validate rendered output</span>
</span><span id=__span-14-20><a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--validate
</span><span id=__span-14-21><a id=__codelineno-14-21 name=__codelineno-14-21 href=#__codelineno-14-21></a>
</span><span id=__span-14-22><a id=__codelineno-14-22 name=__codelineno-14-22 href=#__codelineno-14-22></a><span class=c1># Include CRDs in output</span>
</span><span id=__span-14-23><a id=__codelineno-14-23 name=__codelineno-14-23 href=#__codelineno-14-23></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--include-crds
</span><span id=__span-14-24><a id=__codelineno-14-24 name=__codelineno-14-24 href=#__codelineno-14-24></a>
</span><span id=__span-14-25><a id=__codelineno-14-25 name=__codelineno-14-25 href=#__codelineno-14-25></a><span class=c1># Render for specific Kubernetes version</span>
</span><span id=__span-14-26><a id=__codelineno-14-26 name=__codelineno-14-26 href=#__codelineno-14-26></a>helm<span class=w> </span>template<span class=w> </span>myrelease<span class=w> </span>./myapp<span class=w> </span>--kube-version<span class=w> </span><span class=m>1</span>.28.0
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm lint</code> - Validate chart</summary> <p><strong>Syntax:</strong> <code>helm lint &lt;chart-path&gt;</code></p> <p><strong>Description:</strong> Runs a series of tests to verify that the chart is well-formed and follows best practices.</p> <ul> <li>Runs tests to verify chart is well-formed</li> <li>Checks Chart.yaml, values.yaml, and template syntax</li> <li>Identifies common errors and issues</li> <li> <p>Should be run before packaging or installing</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1># Lint a chart</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>helm<span class=w> </span>lint<span class=w> </span>./myapp
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=c1># Lint with custom values</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>helm<span class=w> </span>lint<span class=w> </span>./myapp<span class=w> </span>-f<span class=w> </span>custom-values.yaml
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=c1># Lint with inline values</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>helm<span class=w> </span>lint<span class=w> </span>./myapp<span class=w> </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>3</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=c1># Strict linting (fail on warnings)</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a>helm<span class=w> </span>lint<span class=w> </span>./myapp<span class=w> </span>--strict
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=c1># Lint with debug output</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a>helm<span class=w> </span>lint<span class=w> </span>./myapp<span class=w> </span>--debug
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a><span class=c1># Lint multiple charts</span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a>helm<span class=w> </span>lint<span class=w> </span>./myapp<span class=w> </span>./anotherapp
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm history</code> - Show release history</summary> <p><strong>Syntax:</strong> <code>helm history &lt;release-name&gt;</code></p> <p><strong>Description:</strong> Prints historical revisions for a given release.</p> <ul> <li>Displays revision history for a release</li> <li>Shows revision number, update time, status, and description</li> <li>Useful for understanding what changed and when</li> <li> <p>Helps identify which revision to rollback to</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1># Show release history</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>helm<span class=w> </span><span class=nb>history</span><span class=w> </span>myrelease
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=c1># Show history from specific namespace</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>helm<span class=w> </span><span class=nb>history</span><span class=w> </span>myrelease<span class=w> </span>--namespace<span class=w> </span>production
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=c1># Show more revisions (default is 256)</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>helm<span class=w> </span><span class=nb>history</span><span class=w> </span>myrelease<span class=w> </span>--max<span class=w> </span><span class=m>100</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=c1># Output as JSON</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>helm<span class=w> </span><span class=nb>history</span><span class=w> </span>myrelease<span class=w> </span>-o<span class=w> </span>json
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=c1># Output as YAML</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>helm<span class=w> </span><span class=nb>history</span><span class=w> </span>myrelease<span class=w> </span>-o<span class=w> </span>yaml
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=c1># Output as table (default)</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>helm<span class=w> </span><span class=nb>history</span><span class=w> </span>myrelease<span class=w> </span>-o<span class=w> </span>table
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm test</code> - Run release tests</summary> <p><strong>Syntax:</strong> <code>helm test &lt;release-name&gt;</code></p> <p><strong>Description:</strong> Runs the tests defined in a chart for a release.</p> <ul> <li>Executes tests defined in chart&rsquo;s templates/tests/ directory</li> <li>Tests are Kubernetes pods with the <code>helm.sh/hook: test</code> annotation</li> <li>Validates that a release is working correctly</li> <li> <p>Returns exit code based on test success/failure</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1># Run tests for a release</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>myrelease
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=c1># Run tests from specific namespace</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>myrelease<span class=w> </span>--namespace<span class=w> </span>production
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=c1># Run tests with timeout</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>myrelease<span class=w> </span>--timeout<span class=w> </span>5m
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=c1># Show test logs</span>
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>myrelease<span class=w> </span>--logs
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a>
</span><span id=__span-17-13><a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a><span class=c1># Cleanup tests after run (default: false)</span>
</span><span id=__span-17-14><a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>myrelease<span class=w> </span>--cleanup
</span><span id=__span-17-15><a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a>
</span><span id=__span-17-16><a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a><span class=c1># Filter which tests to run</span>
</span><span id=__span-17-17><a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>myrelease<span class=w> </span>--filter<span class=w> </span><span class=nv>name</span><span class=o>=</span>test-connection
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm dependency update</code> - Update chart dependencies</summary> <p><strong>Syntax:</strong> <code>helm dependency update &lt;chart-path&gt;</code></p> <p><strong>Description:</strong> Updates the charts/ directory based on Chart.yaml dependencies.</p> <ul> <li>Downloads chart dependencies listed in Chart.yaml</li> <li>Stores dependencies in the charts/ subdirectory</li> <li>Creates or updates Chart.lock file</li> <li> <p>Required before packaging or installing charts with dependencies</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c1># Update dependencies</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>helm<span class=w> </span>dependency<span class=w> </span>update<span class=w> </span>./myapp
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=c1># Update and skip refreshing repository index</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>helm<span class=w> </span>dependency<span class=w> </span>update<span class=w> </span>./myapp<span class=w> </span>--skip-refresh
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=c1># Verify dependencies</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>helm<span class=w> </span>dependency<span class=w> </span>list<span class=w> </span>./myapp
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a><span class=c1># Build dependencies (use Chart.lock)</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>helm<span class=w> </span>dependency<span class=w> </span>build<span class=w> </span>./myapp
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm repo add</code> - Add chart repository</summary> <p><strong>Syntax:</strong> <code>helm repo add &lt;name&gt; &lt;url&gt;</code></p> <p><strong>Description:</strong> Adds a chart repository to your local Helm configuration.</p> <ul> <li>Adds a chart repository to your local Helm configuration</li> <li>Repositories are stored in ~/.config/helm/repositories.yaml</li> <li>Enables searching and installing charts from the repository</li> <li> <p>Can add both HTTP and OCI repositories</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=c1># Add a chart repository</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>bitnami<span class=w> </span>https://charts.bitnami.com/bitnami
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=c1># Add with authentication</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>myrepo<span class=w> </span>https://charts.example.com<span class=w> </span>--username<span class=w> </span>user<span class=w> </span>--password<span class=w> </span>pass
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=c1># Add and force update if exists</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>bitnami<span class=w> </span>https://charts.bitnami.com/bitnami<span class=w> </span>--force-update
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a><span class=c1># Add repository with custom certificate</span>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>myrepo<span class=w> </span>https://charts.example.com<span class=w> </span>--ca-file<span class=w> </span>ca.crt
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a><span class=c1># Add repository skipping TLS verification (not recommended)</span>
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>myrepo<span class=w> </span>https://charts.example.com<span class=w> </span>--insecure-skip-tls-verify
</span><span id=__span-19-15><a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a>
</span><span id=__span-19-16><a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a><span class=c1># List all repositories</span>
</span><span id=__span-19-17><a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a>helm<span class=w> </span>repo<span class=w> </span>list
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm repo update</code> - Update repository information</summary> <p><strong>Syntax:</strong> <code>helm repo update</code></p> <p><strong>Description:</strong> Updates information of available charts from chart repositories.</p> <ul> <li>Updates the local cache of charts from all added repositories</li> <li>Fetches the latest available charts and versions</li> <li>Should be run periodically to see new chart releases</li> <li> <p>Similar to <code>apt update</code> or <code>yum update</code></p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1># Update all repositories</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>helm<span class=w> </span>repo<span class=w> </span>update
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=c1># Update specific repository</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>helm<span class=w> </span>repo<span class=w> </span>update<span class=w> </span>bitnami
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=c1># Update with failure on any repository error</span>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>helm<span class=w> </span>repo<span class=w> </span>update<span class=w> </span>--fail-on-repo-update-fail
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=c1># Update multiple specific repositories</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>helm<span class=w> </span>repo<span class=w> </span>update<span class=w> </span>bitnami<span class=w> </span>stable
</span></code></pre></div> </li> </ul> </details> <details class=example> <summary><code>helm search repo</code> - Search repositories</summary> <p><strong>Syntax:</strong> <code>helm search repo &lt;keyword&gt;</code></p> <p><strong>Description:</strong> Searches repositories for charts matching a keyword.</p> <ul> <li>Searches added repositories for charts matching keyword</li> <li>Shows chart name, version, app version, and description</li> <li>Supports regex patterns for advanced searching</li> <li> <p>Only searches locally added repositories</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1># Search for charts</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>nginx
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=c1># Search with version information</span>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>nginx<span class=w> </span>--versions
</span><span id=__span-21-6><a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>
</span><span id=__span-21-7><a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=c1># Search with regex</span>
</span><span id=__span-21-8><a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span><span class=s1>&#39;nginx.*&#39;</span>
</span><span id=__span-21-9><a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a>
</span><span id=__span-21-10><a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a><span class=c1># Show development versions (pre-release, etc.)</span>
</span><span id=__span-21-11><a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>nginx<span class=w> </span>--devel
</span><span id=__span-21-12><a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a>
</span><span id=__span-21-13><a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a><span class=c1># Search with specific version constraint</span>
</span><span id=__span-21-14><a id=__codelineno-21-14 name=__codelineno-21-14 href=#__codelineno-21-14></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>nginx<span class=w> </span>--version<span class=w> </span><span class=s2>&quot;~15.0&quot;</span>
</span><span id=__span-21-15><a id=__codelineno-21-15 name=__codelineno-21-15 href=#__codelineno-21-15></a>
</span><span id=__span-21-16><a id=__codelineno-21-16 name=__codelineno-21-16 href=#__codelineno-21-16></a><span class=c1># Output as JSON</span>
</span><span id=__span-21-17><a id=__codelineno-21-17 name=__codelineno-21-17 href=#__codelineno-21-17></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>nginx<span class=w> </span>-o<span class=w> </span>json
</span><span id=__span-21-18><a id=__codelineno-21-18 name=__codelineno-21-18 href=#__codelineno-21-18></a>
</span><span id=__span-21-19><a id=__codelineno-21-19 name=__codelineno-21-19 href=#__codelineno-21-19></a><span class=c1># Output as YAML</span>
</span><span id=__span-21-20><a id=__codelineno-21-20 name=__codelineno-21-20 href=#__codelineno-21-20></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>nginx<span class=w> </span>-o<span class=w> </span>yaml
</span><span id=__span-21-21><a id=__codelineno-21-21 name=__codelineno-21-21 href=#__codelineno-21-21></a>
</span><span id=__span-21-22><a id=__codelineno-21-22 name=__codelineno-21-22 href=#__codelineno-21-22></a><span class=c1># Search all repositories</span>
</span><span id=__span-21-23><a id=__codelineno-21-23 name=__codelineno-21-23 href=#__codelineno-21-23></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>--max-col-width<span class=w> </span><span class=m>0</span>
</span></code></pre></div> </li> </ul> </details> <hr> <h2 id=advanced-concepts>Advanced Concepts<a class=headerlink href=#advanced-concepts title="Permanent link">&para;</a></h2> <h3 id=built-in-objects>Built-in Objects<a class=headerlink href=#built-in-objects title="Permanent link">&para;</a></h3> <p><code>Helm</code> templates have access to several built-in objects. These are the most commonly used:</p> <table> <thead> <tr> <th>Object</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>.Release.Name</code></td> <td>The name of the release</td> </tr> <tr> <td><code>.Release.Namespace</code></td> <td>The namespace the release is installed into</td> </tr> <tr> <td><code>.Release.Revision</code></td> <td>The revision number of this release (starts at 1)</td> </tr> <tr> <td><code>.Release.IsInstall</code></td> <td><code>true</code> if the current operation is an install</td> </tr> <tr> <td><code>.Release.IsUpgrade</code></td> <td><code>true</code> if the current operation is an upgrade</td> </tr> <tr> <td><code>.Release.Service</code></td> <td>The service rendering the template (always <code>Helm</code>)</td> </tr> <tr> <td><code>.Values</code></td> <td>Values passed to the template from <code>values.yaml</code> and user overrides</td> </tr> <tr> <td><code>.Chart.Name</code></td> <td>The name of the chart from <code>Chart.yaml</code></td> </tr> <tr> <td><code>.Chart.Version</code></td> <td>The version of the chart</td> </tr> <tr> <td><code>.Chart.AppVersion</code></td> <td>The app version from <code>Chart.yaml</code></td> </tr> <tr> <td><code>.Template.Name</code></td> <td>The namespaced path to the current template file</td> </tr> <tr> <td><code>.Template.BasePath</code></td> <td>The namespaced path to the templates directory</td> </tr> <tr> <td><code>.Files</code></td> <td>Access to non-template files in the chart</td> </tr> <tr> <td><code>.Capabilities</code></td> <td>Information about the Kubernetes cluster capabilities</td> </tr> </tbody> </table> <blockquote> <p>Docs: <a href=https://helm.sh/docs/chart_template_guide/builtin_objects/ >Built-in Objects</a></p> </blockquote> <hr> <h3 id=go-template-syntax>Go Template Syntax<a class=headerlink href=#go-template-syntax title="Permanent link">&para;</a></h3> <p><code>Helm</code> uses the <strong>Go template language</strong> with additional <a href=https://masterminds.github.io/sprig/ >Sprig</a> functions. Here&rsquo;s a quick reference:</p> <h4 id=template-delimiters>Template Delimiters<a class=headerlink href=#template-delimiters title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Delimiter syntax</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td><code>{{ ... }}</code></td> <td>Standard output expression - evaluates and prints the result.</td> </tr> <tr> <td><code>{{- ... }}</code></td> <td>Trim whitespace/newline to the <em>left</em> of the action (left-trim). Useful at the start of a template line.</td> </tr> <tr> <td><code>{{ ... -}}</code></td> <td>Trim whitespace/newline to the <em>right</em> of the action (right-trim). Useful at the end of a template line.</td> </tr> <tr> <td><code>{{- ... -}}</code></td> <td>Trim whitespace/newline on <em>both sides</em> of the action.</td> </tr> </tbody> </table> <div class="admonition danger"> <p class=admonition-title>Delimiters</p> <ul> <li>Whitespace trimming controls whether newlines and spaces immediately before or after template actions appear in the rendered YAML - this is important to produce valid, tidy manifests.</li> <li>Prefer <code>{{-</code> at the start of a block and <code>-}}</code> at the end of a block when you want to avoid blank lines in rendered output.</li> </ul> </div> <p>Example (shows differences in rendered output):</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=c1># Template A (no trimming)</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=nt>prefix</span><span class=p>:</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=w>  </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=s>&quot;val&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=nt>suffix</span><span class=p>:</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=c1># Template B (left-trim)</span>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=nt>prefix</span><span class=p>:</span>
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=w>  </span><span class="p p-Indicator">{{</span><span class=nv>- &quot;val&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a><span class=nt>suffix</span><span class=p>:</span>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a><span class=c1># Template C (right-trim)</span>
</span><span id=__span-22-12><a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a><span class=nt>prefix</span><span class=p>:</span>
</span><span id=__span-22-13><a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a><span class=w>  </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=s>&quot;val&quot;</span><span class=w> </span><span class=nv>-</span><span class="p p-Indicator">}}</span>
</span><span id=__span-22-14><a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a><span class=nt>suffix</span><span class=p>:</span>
</span><span id=__span-22-15><a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a>
</span><span id=__span-22-16><a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a><span class=c1># Template D (both sides trimmed)</span>
</span><span id=__span-22-17><a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a><span class=nt>prefix</span><span class=p>:</span>
</span><span id=__span-22-18><a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a><span class=w>  </span><span class="p p-Indicator">{{</span><span class=nv>- &quot;val&quot; -</span><span class="p p-Indicator">}}</span>
</span><span id=__span-22-19><a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a><span class=nt>suffix</span><span class=p>:</span>
</span></code></pre></div> <p>When rendered, trimming removes the surrounding blank lines and keeps YAML indentation correct; use <code>helm template</code> during development to verify the output.</p> <h4 id=variables>Variables<a class=headerlink href=#variables title="Permanent link">&para;</a></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=c1># Assigning a variable</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class="p p-Indicator">{{</span><span class=nv>- $name</span><span class=w> </span><span class="p p-Indicator">:</span><span class=nv>= .Values.appName</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=c1># Using a variable</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>$name</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <h4 id=pipelines-and-functions>Pipelines and Functions<a class=headerlink href=#pipelines-and-functions title="Permanent link">&para;</a></h4> <p>Template functions can be chained using the <strong>pipe</strong> <code>|</code> operator:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=c1># C`yaml</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=c1># Convert to uppercase</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.name | upper</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=c1># Default value if empty</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.image | default &quot;nginx</span><span class="p p-Indicator">:</span><span class=nv>latest&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=c1># Quoting a value</span>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.version | quote</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-24-10><a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a>
</span><span id=__span-24-11><a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=c1># Trim and truncate</span>
</span><span id=__span-24-12><a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.name | trunc 63 | trimSuffix &quot;-&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-24-13><a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a>
</span><span id=__span-24-14><a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=c1># Indentation (critical for YAML)</span>
</span><span id=__span-24-15><a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-24-16><a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-24-17><a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a><span class=w>    </span><span class="p p-Indicator">{{</span><span class=nv>- include &quot;myapp.labels&quot; . | nindent 4</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <hr> <div class="admonition info"> <p class=admonition-title>Common Sprig Functions</p> <ul> <li> <p>Sprig is a library that provides over 70 useful template functions for Go’s template language.</p> <ul> <li><strong>String</strong>: <code>upper</code>, <code>lower</code>, <code>title</code>, <code>trim</code>, <code>quote</code>, <code>trunc</code>, <code>trimSuffix</code></li> <li><strong>Defaults</strong>: <code>default</code></li> <li><strong>Indentation</strong>: <code>nindent</code>, <code>indent</code></li> <li><strong>Encoding/Conversion</strong>: <code>toYaml</code>, <code>toJson</code>, <code>b64enc</code>, <code>b64dec</code></li> <li><strong>Date/Time</strong>: <code>now</code>, <code>htmlDate</code></li> <li><strong>Crypto</strong>: <code>sha256sum&gt; Common Sprig functions:</code>upper<code>,</code>lower<code>,</code>title<code>,</code>trim<code>,</code>quote<code>,</code>default<code>,</code>trunc<code>,</code>trimSuffix<code>,</code>nindent<code>,</code>indent<code>,</code>toYaml<code>,</code>toJson<code>,</code>b64enc<code>,</code>b64dec<code>,</code>sha256sum<code>,</code>now<code>,</code>htmlDate`</li> </ul> </li> </ul> </div> <blockquote> <p>Docs: <a href=https://helm.sh/docs/chart_template_guide/functions_and_pipelines/ >Functions and Pipelines</a></p> </blockquote> <hr> <h3 id=flow-control>Flow Control<a class=headerlink href=#flow-control title="Permanent link">&para;</a></h3> <h4 id=conditionals-if-else>Conditionals (<code>if</code> / <code>else</code>)<a class=headerlink href=#conditionals-if-else title="Permanent link">&para;</a></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class="p p-Indicator">{{</span><span class=nv>- if .Values.ingress.enabled</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-25-7><a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=w>  </span><span class=nt>rules</span><span class=p>:</span>
</span><span id=__span-25-8><a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.ingress.host</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-25-9><a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-25-10><a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a><span class=err>`</span>
</span><span id=__span-25-11><a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=err>```</span><span class="l l-Scalar l-Scalar-Plain">yaml</span>
</span><span id=__span-25-12><a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a><span class=c1># if / else if / else</span>
</span><span id=__span-25-13><a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a><span class="p p-Indicator">{{</span><span class=nv>- if eq .Values.env &quot;production&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-25-14><a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id=__span-25-15><a id=__codelineno-25-15 name=__codelineno-25-15 href=#__codelineno-25-15></a><span class="p p-Indicator">{{</span><span class=nv>- else if eq .Values.env &quot;staging&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-25-16><a id=__codelineno-25-16 name=__codelineno-25-16 href=#__codelineno-25-16></a><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</span><span id=__span-25-17><a id=__codelineno-25-17 name=__codelineno-25-17 href=#__codelineno-25-17></a><span class="p p-Indicator">{{</span><span class=nv>- else</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-25-18><a id=__codelineno-25-18 name=__codelineno-25-18 href=#__codelineno-25-18></a><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</span><span id=__span-25-19><a id=__codelineno-25-19 name=__codelineno-25-19 href=#__codelineno-25-19></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <h4 id=comparison-operators>Comparison operators<a class=headerlink href=#comparison-operators title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Operator</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>eq</code></td> <td>Equal</td> </tr> <tr> <td><code>ne</code></td> <td>Not equal</td> </tr> <tr> <td><code>lt</code></td> <td>Less than</td> </tr> <tr> <td><code>gt</code></td> <td>Greater than</td> </tr> <tr> <td><code>le</code></td> <td>Less than or equal</td> </tr> <tr> <td><code>ge</code></td> <td>Greater than or equal</td> </tr> <tr> <td><code>and</code></td> <td>Logical AND</td> </tr> <tr> <td><code>or</code></td> <td>Logical OR</td> </tr> <tr> <td><code>not</code></td> <td>Logical NOT</td> </tr> </tbody> </table> <h4 id=looping-range>Looping (<code>range</code>)<a class=headerlink href=#looping-range title="Permanent link">&para;</a></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=c1># Iterating over a list</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class="p p-Indicator">{{</span><span class=nv>- range .Values.env</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.name</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.value | quote</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=c1># Iterating over a map/dict</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class="p p-Indicator">{{</span><span class=nv>- range $key</span><span class="p p-Indicator">,</span><span class=w> </span><span class=nv>$value</span><span class=w> </span><span class="p p-Indicator">:</span><span class=nv>= .Values.labels</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=w>  </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>$key</span><span class=w> </span><span class="p p-Indicator">}}:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>$value | quote</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <h4 id=scoping-with>Scoping (<code>with</code>)<a class=headerlink href=#scoping-with title="Permanent link">&para;</a></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=c1># `with` changes the scope of `.` inside the block</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class="p p-Indicator">{{</span><span class=nv>- with .Values.nodeSelector</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=nt>nodeSelector</span><span class=p>:</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=w>  </span><span class="p p-Indicator">{{</span><span class=nv>- toYaml . | nindent 2</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <blockquote> <p>Docs: <a href=https://helm.sh/docs/chart_template_guide/control_structures/ >Flow Control</a></p> </blockquote> <hr> <h3 id=named-templates-_helperstpl>Named Templates (<code>_helpers.tpl</code>)<a class=headerlink href=#named-templates-_helperstpl title="Permanent link">&para;</a></h3> <ul> <li>Files prefixed with <code>_</code> (underscore) in the <code>templates/</code> directory are <strong>not rendered</strong> as Kubernetes manifests.</li> <li>They are used to define reusable <strong>named templates</strong> (also called partials or sub-templates).</li> <li>Named templates are defined with <code>define</code> and invoked with <code>include</code> (preferred) or <code>template</code>.</li> </ul> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=c1># _helpers.tpl - defining a named template</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class="p p-Indicator">{{</span><span class=nv>- define &quot;myapp.labels&quot; -</span><span class="p p-Indicator">}}</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=nt>app.kubernetes.io/name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.name&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=nt>app.kubernetes.io/instance</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Release.Name</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=nt>app.kubernetes.io/version</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Chart.AppVersion | quote</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=nt>app.kubernetes.io/managed-by</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Release.Service</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=c1># Using the named template in a manifest</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class=nv>- include &quot;myapp.labels&quot; . | nindent 4</span><span class=w> </span><span class="p p-Indicator">}</span><span class=w> </span><span class="p p-Indicator">}</span>
</span></code></pre></div> <div class="admonition info"> <p class=admonition-title><code>include</code> vs <code>template</code></p> <ul> <li>Always prefer <code>include</code> over <code>template</code>. -The <code>include</code> function allows you to <strong>pipe</strong> the output (e.g., <code>| nindent 4</code>), while <code>template</code> does not support pipelines.</li> </ul> </div> <blockquote> <p>Docs: <a href=https://helm.sh/docs/chart_template_guide/named_templates/ >Named Templates</a></p> </blockquote> <hr> <h3 id=values-override-precedence>Values Override Precedence<a class=headerlink href=#values-override-precedence title="Permanent link">&para;</a></h3> <p>When installing or upgrading a release, values can be supplied from multiple sources. The override precedence (last wins) is:</p> <ol> <li><code>values.yaml</code> in the chart (defaults)</li> <li>Parent chart&rsquo;s <code>values.yaml</code> (for subcharts)</li> <li>Values file passed with <code>-f</code> / <code>--values</code></li> <li>Individual values set with <code>--set</code> or <code>--set-string</code></li> </ol> <div class="language-sh highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=c1># Override with a custom values file</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>helm<span class=w> </span>install<span class=w> </span>my-release<span class=w> </span>./mychart<span class=w> </span>-f<span class=w> </span>custom-values.yaml
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=c1># Override with --set (highest precedence)</span>
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a>helm<span class=w> </span>install<span class=w> </span>my-release<span class=w> </span>./mychart<span class=w> </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>3</span>
</span><span id=__span-31-6><a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a>
</span><span id=__span-31-7><a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=c1># Multiple overrides combined</span>
</span><span id=__span-31-8><a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a>helm<span class=w> </span>install<span class=w> </span>my-release<span class=w> </span>./mychart<span class=w> </span><span class=se>\</span>
</span><span id=__span-31-9><a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a><span class=w>  </span>-f<span class=w> </span>production-values.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-31-10><a id=__codelineno-31-10 name=__codelineno-31-10 href=#__codelineno-31-10></a><span class=w>  </span>--set<span class=w> </span>image.tag<span class=o>=</span><span class=s2>&quot;v2.0.0&quot;</span>
</span><span id=__span-31-11><a id=__codelineno-31-11 name=__codelineno-31-11 href=#__codelineno-31-11></a>
</span><span id=__span-31-12><a id=__codelineno-31-12 name=__codelineno-31-12 href=#__codelineno-31-12></a><span class=c1># Override with --set-string (forces string type)</span>
</span><span id=__span-31-13><a id=__codelineno-31-13 name=__codelineno-31-13 href=#__codelineno-31-13></a>helm<span class=w> </span>install<span class=w> </span>my-release<span class=w> </span>./mychart<span class=w> </span>--set-string<span class=w> </span>image.tag<span class=o>=</span><span class=s2>&quot;1234&quot;</span>
</span><span id=__span-31-14><a id=__codelineno-31-14 name=__codelineno-31-14 href=#__codelineno-31-14></a>
</span><span id=__span-31-15><a id=__codelineno-31-15 name=__codelineno-31-15 href=#__codelineno-31-15></a><span class=c1># Override with --set-file (read value from a file)</span>
</span><span id=__span-31-16><a id=__codelineno-31-16 name=__codelineno-31-16 href=#__codelineno-31-16></a>helm<span class=w> </span>install<span class=w> </span>my-release<span class=w> </span>./mychart<span class=w> </span>--set-file<span class=w> </span><span class=nv>config</span><span class=o>=</span>./my-config.txt
</span></code></pre></div> <blockquote> <p>Docs: <a href=https://helm.sh/docs/chart_template_guide/values_files/ >Values Files</a></p> </blockquote> <hr> <h3 id=chart-dependencies-subcharts>Chart Dependencies (Subcharts)<a class=headerlink href=#chart-dependencies-subcharts title="Permanent link">&para;</a></h3> <p>Charts can depend on other charts. Dependencies are declared in <code>Chart.yaml</code>:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=c1># Chart.yaml</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v2</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-app</span>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1.0.0</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=nt>dependencies</span><span class=p>:</span>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgresql</span>
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>&quot;12.x.x&quot;</span>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=w>    </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class=s>&quot;https://charts.bitnami.com/bitnami&quot;</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=w>    </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgresql.enabled</span>
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>&quot;17.x.x&quot;</span>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a><span class=w>    </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class=s>&quot;https://charts.bitnami.com/bitnami&quot;</span>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a><span class=w>    </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis.enabled</span>
</span></code></pre></div> <div class="language-sh highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=c1># Download and update dependencies</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>helm<span class=w> </span>dependency<span class=w> </span>update<span class=w> </span>./my-app
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=c1># The dependencies are stored in the charts/ directory</span>
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a>ls<span class=w> </span>./my-app/charts/
</span></code></pre></div> <blockquote> <p>Docs: <a href=https://helm.sh/docs/helm/helm_dependency/ >Chart Dependencies</a></p> </blockquote> <hr> <h3 id=helm-hooks>Helm Hooks<a class=headerlink href=#helm-hooks title="Permanent link">&para;</a></h3> <p>Hooks allow you to run resources at specific points in a release lifecycle. - They are standard Kubernetes resources (Jobs, Pods, ConfigMaps, etc.) with special annotations that tell Helm when to execute them.</p> <h4 id=hook-types>Hook Types<a class=headerlink href=#hook-types title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Hook</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>pre-install</code></td> <td>Runs before any resources are installed</td> </tr> <tr> <td><code>post-install</code></td> <td>Runs after all resources are installed</td> </tr> <tr> <td><code>pre-upgrade</code></td> <td>Runs before any resources are upgraded</td> </tr> <tr> <td><code>post-upgrade</code></td> <td>Runs after all resources are upgraded</td> </tr> <tr> <td><code>pre-delete</code></td> <td>Runs before any resources are deleted</td> </tr> <tr> <td><code>post-delete</code></td> <td>Runs after all resources are deleted</td> </tr> <tr> <td><code>pre-rollback</code></td> <td>Runs before a rollback</td> </tr> <tr> <td><code>post-rollback</code></td> <td>Runs after a rollback</td> </tr> <tr> <td><code>test</code></td> <td>Runs when <code>helm test</code> is called</td> </tr> </tbody> </table> <h4 id=hook-annotations>Hook Annotations<a class=headerlink href=#hook-annotations title="Permanent link">&para;</a></h4> <p>Hooks are controlled by three key annotations:</p> <table> <thead> <tr> <th>Annotation</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>helm.sh/hook</code></td> <td>Defines when the hook runs (required). Can specify multiple hooks: <code>"pre-install,pre-upgrade"</code></td> </tr> <tr> <td><code>helm.sh/hook-weight</code></td> <td>Defines execution order (default: 0). Lower weights execute first. Can be negative.</td> </tr> <tr> <td><code>helm.sh/hook-delete-policy</code></td> <td>Defines when to delete the hook resource. Values: <code>before-hook-creation</code>, <code>hook-succeeded</code>, <code>hook-failed</code></td> </tr> </tbody> </table> <h4 id=hook-deletion-policies>Hook Deletion Policies<a class=headerlink href=#hook-deletion-policies title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Policy</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>before-hook-creation</code></td> <td>Delete previous hook resource before a new one is launched (default)</td> </tr> <tr> <td><code>hook-succeeded</code></td> <td>Delete the hook resource after it successfully completes</td> </tr> <tr> <td><code>hook-failed</code></td> <td>Delete the hook resource if it fails</td> </tr> </tbody> </table> <p>You can specify multiple policies: <code>"hook-succeeded,hook-failed"</code></p> <h4 id=hook-execution-order>Hook Execution Order<a class=headerlink href=#hook-execution-order title="Permanent link">&para;</a></h4> <p>Hooks execute in the following order:</p> <ol> <li><strong>Sorted by weight</strong> (ascending): hooks with lower weights run first</li> <li><strong>Sorted by kind</strong> (alphabetical): if weights are equal</li> <li><strong>Sorted by name</strong> (alphabetical): if both weight and kind are equal</li> </ol> <h4 id=practical-examples>Practical Examples<a class=headerlink href=#practical-examples title="Permanent link">&para;</a></h4> <h4 id=pre-installpre-upgrade>(pre-install/pre-upgrade)<a class=headerlink href=#pre-installpre-upgrade title="Permanent link">&para;</a></h4> <details class=example> <summary>Example 1: Database Migration (pre-install/pre-upgrade)</summary> <ul> <li>This hook runs a database migration job before installing or upgrading the main application resources.</li> <li>It ensures that the database schema is up-to-date before the application starts.</li> <li>The <code>migrate.sh</code> script would contain the logic to perform the database migration, and it would use environment variables to connect to the database. <div class="language-yaml highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=c1># templates/hooks/db-migrate.yaml</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-db-migrate</span>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pre-install,pre-upgrade</span>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;0&quot;</span>
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hook-succeeded,hook-failed</span>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-34-12><a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-34-13><a id=__codelineno-34-13 name=__codelineno-34-13 href=#__codelineno-34-13></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-db-migrate</span>
</span><span id=__span-34-14><a id=__codelineno-34-14 name=__codelineno-34-14 href=#__codelineno-34-14></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-34-15><a id=__codelineno-34-15 name=__codelineno-34-15 href=#__codelineno-34-15></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-34-16><a id=__codelineno-34-16 name=__codelineno-34-16 href=#__codelineno-34-16></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">migrate</span>
</span><span id=__span-34-17><a id=__codelineno-34-17 name=__codelineno-34-17 href=#__codelineno-34-17></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>.Values.image.repository</span><span class=nv> </span><span class=s>}}:{{</span><span class=nv> </span><span class=s>.Values.image.tag</span><span class=nv> </span><span class=s>}}&quot;</span>
</span><span id=__span-34-18><a id=__codelineno-34-18 name=__codelineno-34-18 href=#__codelineno-34-18></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;./migrate.sh&quot;</span><span class="p p-Indicator">]</span>
</span><span id=__span-34-19><a id=__codelineno-34-19 name=__codelineno-34-19 href=#__codelineno-34-19></a><span class=w>          </span><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-34-20><a id=__codelineno-34-20 name=__codelineno-34-20 href=#__codelineno-34-20></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DB_HOST</span>
</span><span id=__span-34-21><a id=__codelineno-34-21 name=__codelineno-34-21 href=#__codelineno-34-21></a><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.database.host</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-34-22><a id=__codelineno-34-22 name=__codelineno-34-22 href=#__codelineno-34-22></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DB_NAME</span>
</span><span id=__span-34-23><a id=__codelineno-34-23 name=__codelineno-34-23 href=#__codelineno-34-23></a><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.database.name</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-34-24><a id=__codelineno-34-24 name=__codelineno-34-24 href=#__codelineno-34-24></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span><span id=__span-34-25><a id=__codelineno-34-25 name=__codelineno-34-25 href=#__codelineno-34-25></a><span class=w>  </span><span class=nt>backoffLimit</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span></code></pre></div></li> </ul> </details> <details class=example> <summary>Example 2: Schema Initialization (pre-install only)</summary> <ul> <li>This hook runs a database initialization job only during the initial installation of the chart.</li> <li>It creates the database schema if it doesn&rsquo;t already exist.</li> <li>It uses a lower weight to ensure it runs before the migration hook.</li> <li>The <code>psql</code> command is used to create the database, and it connects using environment variables for the database host and credentials.</li> <li>This hook will not run during upgrades, ensuring that it only initializes the database on the first install. <div class="language-yaml highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=c1># templates/hooks/db-init.yaml</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-db-init</span>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pre-install</span>
</span><span id=__span-35-8><a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;-5&quot;</span><span class=w>  </span><span class=c1># Runs before migration (weight: 0)</span>
</span><span id=__span-35-9><a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hook-succeeded</span>
</span><span id=__span-35-10><a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-35-11><a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-35-12><a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-35-13><a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-35-14><a id=__codelineno-35-14 name=__codelineno-35-14 href=#__codelineno-35-14></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">init-db</span>
</span><span id=__span-35-15><a id=__codelineno-35-15 name=__codelineno-35-15 href=#__codelineno-35-15></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres:14</span>
</span><span id=__span-35-16><a id=__codelineno-35-16 name=__codelineno-35-16 href=#__codelineno-35-16></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-35-17><a id=__codelineno-35-17 name=__codelineno-35-17 href=#__codelineno-35-17></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sh</span>
</span><span id=__span-35-18><a id=__codelineno-35-18 name=__codelineno-35-18 href=#__codelineno-35-18></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-c</span>
</span><span id=__span-35-19><a id=__codelineno-35-19 name=__codelineno-35-19 href=#__codelineno-35-19></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-35-20><a id=__codelineno-35-20 name=__codelineno-35-20 href=#__codelineno-35-20></a><span class=w>              </span><span class=no>psql -h $DB_HOST -U $DB_USER -c &quot;CREATE DATABASE IF NOT EXISTS {{ .Values.database.name }};&quot;</span>
</span><span id=__span-35-21><a id=__codelineno-35-21 name=__codelineno-35-21 href=#__codelineno-35-21></a><span class=w>          </span><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-35-22><a id=__codelineno-35-22 name=__codelineno-35-22 href=#__codelineno-35-22></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DB_HOST</span>
</span><span id=__span-35-23><a id=__codelineno-35-23 name=__codelineno-35-23 href=#__codelineno-35-23></a><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.database.host</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-35-24><a id=__codelineno-35-24 name=__codelineno-35-24 href=#__codelineno-35-24></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DB_USER</span>
</span><span id=__span-35-25><a id=__codelineno-35-25 name=__codelineno-35-25 href=#__codelineno-35-25></a><span class=w>              </span><span class=nt>valueFrom</span><span class=p>:</span>
</span><span id=__span-35-26><a id=__codelineno-35-26 name=__codelineno-35-26 href=#__codelineno-35-26></a><span class=w>                </span><span class=nt>secretKeyRef</span><span class=p>:</span>
</span><span id=__span-35-27><a id=__codelineno-35-27 name=__codelineno-35-27 href=#__codelineno-35-27></a><span class=w>                  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">db-secret</span>
</span><span id=__span-35-28><a id=__codelineno-35-28 name=__codelineno-35-28 href=#__codelineno-35-28></a><span class=w>                  </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">username</span>
</span><span id=__span-35-29><a id=__codelineno-35-29 name=__codelineno-35-29 href=#__codelineno-35-29></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PGPASSWORD</span>
</span><span id=__span-35-30><a id=__codelineno-35-30 name=__codelineno-35-30 href=#__codelineno-35-30></a><span class=w>              </span><span class=nt>valueFrom</span><span class=p>:</span>
</span><span id=__span-35-31><a id=__codelineno-35-31 name=__codelineno-35-31 href=#__codelineno-35-31></a><span class=w>                </span><span class=nt>secretKeyRef</span><span class=p>:</span>
</span><span id=__span-35-32><a id=__codelineno-35-32 name=__codelineno-35-32 href=#__codelineno-35-32></a><span class=w>                  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">db-secret</span>
</span><span id=__span-35-33><a id=__codelineno-35-33 name=__codelineno-35-33 href=#__codelineno-35-33></a><span class=w>                  </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">password</span>
</span><span id=__span-35-34><a id=__codelineno-35-34 name=__codelineno-35-34 href=#__codelineno-35-34></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span></code></pre></div></li> </ul> </details> <details class=example> <summary>Example 3: Service Readiness Check (post-install)</summary> <ul> <li>This hook runs a job after the main application resources are installed to check if the service is ready.</li> <li>It uses a simple <code>curl</code> command to check the health endpoint of the service, retrying until it gets a successful response.</li> <li>This ensures that the application is fully operational before the release is considered successful.</li> <li>The hook will be deleted after it succeeds, preventing it from running again unnecessarily.</li> <li>This is particularly useful for applications that require some time to become ready after deployment, such as those that perform initialization tasks or have complex startup processes.</li> <li>By using a post-install hook, you can provide immediate feedback on the success of the deployment and ensure that users are aware of any issues with service readiness right after installation. <div class="language-yaml highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=c1># templates/hooks/smoke-test.yaml</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-smoke-test</span>
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-36-7><a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">post-install,post-upgrade</span>
</span><span id=__span-36-8><a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;5&quot;</span>
</span><span id=__span-36-9><a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hook-succeeded</span>
</span><span id=__span-36-10><a id=__codelineno-36-10 name=__codelineno-36-10 href=#__codelineno-36-10></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-36-11><a id=__codelineno-36-11 name=__codelineno-36-11 href=#__codelineno-36-11></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-36-12><a id=__codelineno-36-12 name=__codelineno-36-12 href=#__codelineno-36-12></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-36-13><a id=__codelineno-36-13 name=__codelineno-36-13 href=#__codelineno-36-13></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-36-14><a id=__codelineno-36-14 name=__codelineno-36-14 href=#__codelineno-36-14></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">smoke-test</span>
</span><span id=__span-36-15><a id=__codelineno-36-15 name=__codelineno-36-15 href=#__codelineno-36-15></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">curlimages/curl:latest</span>
</span><span id=__span-36-16><a id=__codelineno-36-16 name=__codelineno-36-16 href=#__codelineno-36-16></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-36-17><a id=__codelineno-36-17 name=__codelineno-36-17 href=#__codelineno-36-17></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sh</span>
</span><span id=__span-36-18><a id=__codelineno-36-18 name=__codelineno-36-18 href=#__codelineno-36-18></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-c</span>
</span><span id=__span-36-19><a id=__codelineno-36-19 name=__codelineno-36-19 href=#__codelineno-36-19></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-36-20><a id=__codelineno-36-20 name=__codelineno-36-20 href=#__codelineno-36-20></a><span class=w>              </span><span class=no>echo &quot;Waiting for service to be ready...&quot;</span>
</span><span id=__span-36-21><a id=__codelineno-36-21 name=__codelineno-36-21 href=#__codelineno-36-21></a><span class=w>              </span><span class=no>until curl -f http://{{ include &quot;myapp.fullname&quot; . }}:{{ .Values.service.port }}/health; do</span>
</span><span id=__span-36-22><a id=__codelineno-36-22 name=__codelineno-36-22 href=#__codelineno-36-22></a><span class=w>                </span><span class=no>echo &quot;Service not ready yet, retrying in 5 seconds...&quot;</span>
</span><span id=__span-36-23><a id=__codelineno-36-23 name=__codelineno-36-23 href=#__codelineno-36-23></a><span class=w>                </span><span class=no>sleep 5</span>
</span><span id=__span-36-24><a id=__codelineno-36-24 name=__codelineno-36-24 href=#__codelineno-36-24></a><span class=w>              </span><span class=no>done</span>
</span><span id=__span-36-25><a id=__codelineno-36-25 name=__codelineno-36-25 href=#__codelineno-36-25></a><span class=w>              </span><span class=no>echo &quot;Service is ready!&quot;</span>
</span><span id=__span-36-26><a id=__codelineno-36-26 name=__codelineno-36-26 href=#__codelineno-36-26></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span><span id=__span-36-27><a id=__codelineno-36-27 name=__codelineno-36-27 href=#__codelineno-36-27></a><span class=w>  </span><span class=nt>backoffLimit</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span></code></pre></div></li> </ul> </details> <details class=example> <summary>Example 4: Backup Before Upgrade (pre-upgrade)</summary> <ul> <li>This hook creates a backup of the database before upgrading the application.</li> <li>It uses the <code>pg_dump</code> command to create a SQL backup file with a timestamp.</li> <li>The backup is stored in a persistent volume claim to ensure it&rsquo;s retained even if the job is deleted.</li> <li>The hook runs with a weight of <code>-10</code> to ensure it executes before other upgrade hooks like migrations.</li> <li>This is a critical safety measure to ensure you can restore your data if an upgrade fails or causes data corruption. <div class="language-yaml highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=c1># templates/hooks/backup.yaml</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-backup-{{ now | date &quot;20060102-150405&quot; }}</span>
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pre-upgrade</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;-10&quot;</span>
</span><span id=__span-37-9><a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hook-succeeded</span>
</span><span id=__span-37-10><a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-37-11><a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-37-12><a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-37-13><a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-37-14><a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">backup</span>
</span><span id=__span-37-15><a id=__codelineno-37-15 name=__codelineno-37-15 href=#__codelineno-37-15></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>.Values.backup.image</span><span class=nv> </span><span class=s>}}&quot;</span>
</span><span id=__span-37-16><a id=__codelineno-37-16 name=__codelineno-37-16 href=#__codelineno-37-16></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-37-17><a id=__codelineno-37-17 name=__codelineno-37-17 href=#__codelineno-37-17></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sh</span>
</span><span id=__span-37-18><a id=__codelineno-37-18 name=__codelineno-37-18 href=#__codelineno-37-18></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-c</span>
</span><span id=__span-37-19><a id=__codelineno-37-19 name=__codelineno-37-19 href=#__codelineno-37-19></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-37-20><a id=__codelineno-37-20 name=__codelineno-37-20 href=#__codelineno-37-20></a><span class=w>              </span><span class=no>echo &quot;Creating backup before upgrade...&quot;</span>
</span><span id=__span-37-21><a id=__codelineno-37-21 name=__codelineno-37-21 href=#__codelineno-37-21></a><span class=w>              </span><span class=no>pg_dump -h $DB_HOST -U $DB_USER $DB_NAME &gt; /backup/backup-$(date +%Y%m%d-%H%M%S).sql</span>
</span><span id=__span-37-22><a id=__codelineno-37-22 name=__codelineno-37-22 href=#__codelineno-37-22></a><span class=w>              </span><span class=no>echo &quot;Backup completed successfully&quot;</span>
</span><span id=__span-37-23><a id=__codelineno-37-23 name=__codelineno-37-23 href=#__codelineno-37-23></a><span class=w>          </span><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-37-24><a id=__codelineno-37-24 name=__codelineno-37-24 href=#__codelineno-37-24></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DB_HOST</span>
</span><span id=__span-37-25><a id=__codelineno-37-25 name=__codelineno-37-25 href=#__codelineno-37-25></a><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.database.host</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-37-26><a id=__codelineno-37-26 name=__codelineno-37-26 href=#__codelineno-37-26></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DB_USER</span>
</span><span id=__span-37-27><a id=__codelineno-37-27 name=__codelineno-37-27 href=#__codelineno-37-27></a><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.database.user</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-37-28><a id=__codelineno-37-28 name=__codelineno-37-28 href=#__codelineno-37-28></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DB_NAME</span>
</span><span id=__span-37-29><a id=__codelineno-37-29 name=__codelineno-37-29 href=#__codelineno-37-29></a><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.database.name</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-37-30><a id=__codelineno-37-30 name=__codelineno-37-30 href=#__codelineno-37-30></a><span class=w>          </span><span class=nt>volumeMounts</span><span class=p>:</span>
</span><span id=__span-37-31><a id=__codelineno-37-31 name=__codelineno-37-31 href=#__codelineno-37-31></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">backup-storage</span>
</span><span id=__span-37-32><a id=__codelineno-37-32 name=__codelineno-37-32 href=#__codelineno-37-32></a><span class=w>              </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/backup</span>
</span><span id=__span-37-33><a id=__codelineno-37-33 name=__codelineno-37-33 href=#__codelineno-37-33></a><span class=w>      </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-37-34><a id=__codelineno-37-34 name=__codelineno-37-34 href=#__codelineno-37-34></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">backup-storage</span>
</span><span id=__span-37-35><a id=__codelineno-37-35 name=__codelineno-37-35 href=#__codelineno-37-35></a><span class=w>          </span><span class=nt>persistentVolumeClaim</span><span class=p>:</span>
</span><span id=__span-37-36><a id=__codelineno-37-36 name=__codelineno-37-36 href=#__codelineno-37-36></a><span class=w>            </span><span class=nt>claimName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">backup-pvc</span>
</span><span id=__span-37-37><a id=__codelineno-37-37 name=__codelineno-37-37 href=#__codelineno-37-37></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span></code></pre></div></li> </ul> </details> <details class=example> <summary>Example 5: Notification Hook (post-install/post-upgrade)</summary> <ul> <li>This hook sends a notification to Slack after the application is successfully installed or upgraded.</li> <li>It uses the Helm built-in <code>.Release.IsInstall</code> variable to determine whether this is a new installation or an upgrade.</li> <li>The hook runs with a weight of <code>10</code> to ensure it executes after other post-install/upgrade hooks like smoke tests.</li> <li>Notifications are sent regardless of hook success or failure (deletion policy: <code>hook-succeeded,hook-failed</code>).</li> <li>This is useful for keeping your team informed about deployments in production environments. <div class="language-yaml highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=c1># templates/hooks/notify.yaml</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-notify</span>
</span><span id=__span-38-6><a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-38-7><a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">post-install,post-upgrade</span>
</span><span id=__span-38-8><a id=__codelineno-38-8 name=__codelineno-38-8 href=#__codelineno-38-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;10&quot;</span><span class=w>  </span><span class=c1># Runs after smoke test</span>
</span><span id=__span-38-9><a id=__codelineno-38-9 name=__codelineno-38-9 href=#__codelineno-38-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hook-succeeded,hook-failed</span>
</span><span id=__span-38-10><a id=__codelineno-38-10 name=__codelineno-38-10 href=#__codelineno-38-10></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-38-11><a id=__codelineno-38-11 name=__codelineno-38-11 href=#__codelineno-38-11></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-38-12><a id=__codelineno-38-12 name=__codelineno-38-12 href=#__codelineno-38-12></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-38-13><a id=__codelineno-38-13 name=__codelineno-38-13 href=#__codelineno-38-13></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-38-14><a id=__codelineno-38-14 name=__codelineno-38-14 href=#__codelineno-38-14></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify</span>
</span><span id=__span-38-15><a id=__codelineno-38-15 name=__codelineno-38-15 href=#__codelineno-38-15></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">curlimages/curl:latest</span>
</span><span id=__span-38-16><a id=__codelineno-38-16 name=__codelineno-38-16 href=#__codelineno-38-16></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-38-17><a id=__codelineno-38-17 name=__codelineno-38-17 href=#__codelineno-38-17></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sh</span>
</span><span id=__span-38-18><a id=__codelineno-38-18 name=__codelineno-38-18 href=#__codelineno-38-18></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-c</span>
</span><span id=__span-38-19><a id=__codelineno-38-19 name=__codelineno-38-19 href=#__codelineno-38-19></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-38-20><a id=__codelineno-38-20 name=__codelineno-38-20 href=#__codelineno-38-20></a><span class=w>              </span><span class=no>if [ &quot;{{ .Release.IsInstall }}&quot; = &quot;true&quot; ]; then</span>
</span><span id=__span-38-21><a id=__codelineno-38-21 name=__codelineno-38-21 href=#__codelineno-38-21></a><span class=w>                </span><span class=no>ACTION=&quot;installed&quot;</span>
</span><span id=__span-38-22><a id=__codelineno-38-22 name=__codelineno-38-22 href=#__codelineno-38-22></a><span class=w>              </span><span class=no>else</span>
</span><span id=__span-38-23><a id=__codelineno-38-23 name=__codelineno-38-23 href=#__codelineno-38-23></a><span class=w>                </span><span class=no>ACTION=&quot;upgraded&quot;</span>
</span><span id=__span-38-24><a id=__codelineno-38-24 name=__codelineno-38-24 href=#__codelineno-38-24></a><span class=w>              </span><span class=no>fi</span>
</span><span id=__span-38-25><a id=__codelineno-38-25 name=__codelineno-38-25 href=#__codelineno-38-25></a><span class=w>              </span><span class=no>curl -X POST {{ .Values.slack.webhookUrl }} \</span>
</span><span id=__span-38-26><a id=__codelineno-38-26 name=__codelineno-38-26 href=#__codelineno-38-26></a><span class=w>                </span><span class=no>-H &#39;Content-Type: application/json&#39; \</span>
</span><span id=__span-38-27><a id=__codelineno-38-27 name=__codelineno-38-27 href=#__codelineno-38-27></a><span class=w>                </span><span class=no>-d &quot;{\&quot;text\&quot;:\&quot;Application {{ .Release.Name }} has been $ACTION to version {{ .Chart.Version }} in namespace {{ .Release.Namespace }}\&quot;}&quot;</span>
</span><span id=__span-38-28><a id=__codelineno-38-28 name=__codelineno-38-28 href=#__codelineno-38-28></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span></code></pre></div></li> </ul> </details> <details class=example> <summary>Example 6: Cleanup Hook (pre-delete)</summary> <ul> <li>This hook performs cleanup operations before the main application resources are deleted.</li> <li>It uses <code>kubectl</code> to delete specific resources (in this case, ConfigMaps) that match certain labels.</li> <li>The hook requires a ServiceAccount with appropriate RBAC permissions to delete resources in the namespace.</li> <li>This is useful for cleaning up dynamically created resources that might not be tracked by Helm directly.</li> <li>The hook will be deleted after it succeeds, preventing orphaned cleanup jobs from accumulating. <div class="language-yaml highlight"><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=c1># templates/hooks/cleanup.yaml</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-39-5><a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-cleanup</span>
</span><span id=__span-39-6><a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-39-7><a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pre-delete</span>
</span><span id=__span-39-8><a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;0&quot;</span>
</span><span id=__span-39-9><a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hook-succeeded</span>
</span><span id=__span-39-10><a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-39-11><a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-39-12><a id=__codelineno-39-12 name=__codelineno-39-12 href=#__codelineno-39-12></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-39-13><a id=__codelineno-39-13 name=__codelineno-39-13 href=#__codelineno-39-13></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-39-14><a id=__codelineno-39-14 name=__codelineno-39-14 href=#__codelineno-39-14></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cleanup</span>
</span><span id=__span-39-15><a id=__codelineno-39-15 name=__codelineno-39-15 href=#__codelineno-39-15></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bitnami/kubectl:latest</span>
</span><span id=__span-39-16><a id=__codelineno-39-16 name=__codelineno-39-16 href=#__codelineno-39-16></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-39-17><a id=__codelineno-39-17 name=__codelineno-39-17 href=#__codelineno-39-17></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sh</span>
</span><span id=__span-39-18><a id=__codelineno-39-18 name=__codelineno-39-18 href=#__codelineno-39-18></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-c</span>
</span><span id=__span-39-19><a id=__codelineno-39-19 name=__codelineno-39-19 href=#__codelineno-39-19></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-39-20><a id=__codelineno-39-20 name=__codelineno-39-20 href=#__codelineno-39-20></a><span class=w>              </span><span class=no>echo &quot;Cleaning up resources...&quot;</span>
</span><span id=__span-39-21><a id=__codelineno-39-21 name=__codelineno-39-21 href=#__codelineno-39-21></a><span class=w>              </span><span class=no>kubectl delete configmap -n {{ .Release.Namespace }} -l app={{ include &quot;myapp.name&quot; . }},release={{ .Release.Name }}</span>
</span><span id=__span-39-22><a id=__codelineno-39-22 name=__codelineno-39-22 href=#__codelineno-39-22></a><span class=w>              </span><span class=no>echo &quot;Cleanup completed&quot;</span>
</span><span id=__span-39-23><a id=__codelineno-39-23 name=__codelineno-39-23 href=#__codelineno-39-23></a><span class=w>      </span><span class=nt>serviceAccountName</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-cleanup</span>
</span><span id=__span-39-24><a id=__codelineno-39-24 name=__codelineno-39-24 href=#__codelineno-39-24></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span></code></pre></div></li> </ul> </details> <details class=example> <summary>Example 7: Secret Creation Hook (pre-install)</summary> <ul> <li>This hook generates a random password and creates a Kubernetes secret before the main application resources are installed.</li> <li>It uses the <code>bitnami/kubectl</code> image to run <code>kubectl</code> commands directly from the job.</li> <li>The generated password is stored in a secret named <code>&lt;release-name&gt;-db-secret</code> in the same namespace as the release.</li> <li>The hook is set to run only during installation, ensuring that a new secret is created each time a new release is installed.</li> <li>The <code>before-hook-creation</code> deletion policy ensures that if the hook runs multiple times (e.g., due to retries), the previous secret will be deleted before a new one is created, preventing orphaned secrets from accumulating.</li> <li>This hook is useful for scenarios where you need to generate dynamic configuration or credentials that must be available before the main application resources are created. <div class="language-yaml highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=c1># templates/hooks/create-secret.yaml</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-40-5><a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-create-secret</span>
</span><span id=__span-40-6><a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-40-7><a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pre-install</span>
</span><span id=__span-40-8><a id=__codelineno-40-8 name=__codelineno-40-8 href=#__codelineno-40-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;-15&quot;</span><span class=w>  </span><span class=c1># Runs very early</span>
</span><span id=__span-40-9><a id=__codelineno-40-9 name=__codelineno-40-9 href=#__codelineno-40-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">before-hook-creation</span>
</span><span id=__span-40-10><a id=__codelineno-40-10 name=__codelineno-40-10 href=#__codelineno-40-10></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-40-11><a id=__codelineno-40-11 name=__codelineno-40-11 href=#__codelineno-40-11></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-40-12><a id=__codelineno-40-12 name=__codelineno-40-12 href=#__codelineno-40-12></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-40-13><a id=__codelineno-40-13 name=__codelineno-40-13 href=#__codelineno-40-13></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-40-14><a id=__codelineno-40-14 name=__codelineno-40-14 href=#__codelineno-40-14></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-secret</span>
</span><span id=__span-40-15><a id=__codelineno-40-15 name=__codelineno-40-15 href=#__codelineno-40-15></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bitnami/kubectl:latest</span>
</span><span id=__span-40-16><a id=__codelineno-40-16 name=__codelineno-40-16 href=#__codelineno-40-16></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-40-17><a id=__codelineno-40-17 name=__codelineno-40-17 href=#__codelineno-40-17></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sh</span>
</span><span id=__span-40-18><a id=__codelineno-40-18 name=__codelineno-40-18 href=#__codelineno-40-18></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-c</span>
</span><span id=__span-40-19><a id=__codelineno-40-19 name=__codelineno-40-19 href=#__codelineno-40-19></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-40-20><a id=__codelineno-40-20 name=__codelineno-40-20 href=#__codelineno-40-20></a><span class=w>              </span><span class=no># Generate random password</span>
</span><span id=__span-40-21><a id=__codelineno-40-21 name=__codelineno-40-21 href=#__codelineno-40-21></a><span class=w>              </span><span class=no>PASSWORD=$(openssl rand -base64 32)</span>
</span><span id=__span-40-22><a id=__codelineno-40-22 name=__codelineno-40-22 href=#__codelineno-40-22></a>
</span><span id=__span-40-23><a id=__codelineno-40-23 name=__codelineno-40-23 href=#__codelineno-40-23></a><span class=w>              </span><span class=no># Create Kubernetes secret</span>
</span><span id=__span-40-24><a id=__codelineno-40-24 name=__codelineno-40-24 href=#__codelineno-40-24></a><span class=w>              </span><span class=no>kubectl create secret generic {{ include &quot;myapp.fullname&quot; . }}-db-secret \</span>
</span><span id=__span-40-25><a id=__codelineno-40-25 name=__codelineno-40-25 href=#__codelineno-40-25></a><span class=w>                </span><span class=no>--from-literal=password=$PASSWORD \</span>
</span><span id=__span-40-26><a id=__codelineno-40-26 name=__codelineno-40-26 href=#__codelineno-40-26></a><span class=w>                </span><span class=no>--namespace={{ .Release.Namespace }} \</span>
</span><span id=__span-40-27><a id=__codelineno-40-27 name=__codelineno-40-27 href=#__codelineno-40-27></a><span class=w>                </span><span class=no>--dry-run=client -o yaml | kubectl apply -f -</span>
</span><span id=__span-40-28><a id=__codelineno-40-28 name=__codelineno-40-28 href=#__codelineno-40-28></a>
</span><span id=__span-40-29><a id=__codelineno-40-29 name=__codelineno-40-29 href=#__codelineno-40-29></a><span class=w>              </span><span class=no>echo &quot;Secret created successfully&quot;</span>
</span><span id=__span-40-30><a id=__codelineno-40-30 name=__codelineno-40-30 href=#__codelineno-40-30></a><span class=w>      </span><span class=nt>serviceAccountName</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-admin</span>
</span><span id=__span-40-31><a id=__codelineno-40-31 name=__codelineno-40-31 href=#__codelineno-40-31></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span></code></pre></div></li> </ul> </details> <h4 id=hook-best-practices>Hook Best Practices<a class=headerlink href=#hook-best-practices title="Permanent link">&para;</a></h4> <ol> <li><strong>Use appropriate weights</strong>: Order hooks logically (e.g., backup before migration)</li> <li><strong>Set deletion policies</strong>: Clean up hook resources to avoid clutter</li> <li><strong>Add timeouts</strong>: Use <code>activeDeadlineSeconds</code> in Job specs to prevent hanging</li> <li><strong>Use backoff limits</strong>: Set <code>backoffLimit</code> to control retry attempts</li> <li><strong>Handle idempotency</strong>: Hooks should be safe to run multiple times</li> <li><strong>Consider rollback</strong>: Avoid destructive operations in pre-delete hooks</li> <li><strong>Test hooks</strong>: Run <code>helm install --dry-run --debug</code> to preview hook behavior</li> <li><strong>Use ServiceAccounts</strong>: Grant appropriate RBAC permissions for hooks that interact with the cluster</li> </ol> <h4 id=debugging-hooks>Debugging Hooks<a class=headerlink href=#debugging-hooks title="Permanent link">&para;</a></h4> <div class="language-sh highlight"><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=c1># View hook resources</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a>kubectl<span class=w> </span>get<span class=w> </span>jobs,pods<span class=w> </span>-n<span class=w> </span>&lt;namespace&gt;<span class=w> </span>-l<span class=w> </span><span class=nv>heritage</span><span class=o>=</span>Helm
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=c1># Check hook logs</span>
</span><span id=__span-41-5><a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a>kubectl<span class=w> </span>logs<span class=w> </span>job/&lt;hook-job-name&gt;<span class=w> </span>-n<span class=w> </span>&lt;namespace&gt;
</span><span id=__span-41-6><a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a>
</span><span id=__span-41-7><a id=__codelineno-41-7 name=__codelineno-41-7 href=#__codelineno-41-7></a><span class=c1># View hook status during install</span>
</span><span id=__span-41-8><a id=__codelineno-41-8 name=__codelineno-41-8 href=#__codelineno-41-8></a>helm<span class=w> </span>install<span class=w> </span>myapp<span class=w> </span>./chart<span class=w> </span>--wait<span class=w> </span>--debug
</span><span id=__span-41-9><a id=__codelineno-41-9 name=__codelineno-41-9 href=#__codelineno-41-9></a>
</span><span id=__span-41-10><a id=__codelineno-41-10 name=__codelineno-41-10 href=#__codelineno-41-10></a><span class=c1># Manually clean up failed hooks</span>
</span><span id=__span-41-11><a id=__codelineno-41-11 name=__codelineno-41-11 href=#__codelineno-41-11></a>kubectl<span class=w> </span>delete<span class=w> </span>job<span class=w> </span>&lt;hook-job-name&gt;<span class=w> </span>-n<span class=w> </span>&lt;namespace&gt;
</span></code></pre></div> <blockquote> <p>Docs: <a href=https://helm.sh/docs/topics/charts_hooks/ >Chart Hooks</a></p> </blockquote> <hr> <h3 id=helm-tests>Helm Tests<a class=headerlink href=#helm-tests title="Permanent link">&para;</a></h3> <ul> <li>Helm tests live in <code>templates/tests/</code> and are pod definitions with the <code>"helm.sh/hook": test</code> annotation.</li> <li>They are executed with <code>helm test &lt;release-name&gt;</code>.</li> </ul> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=c1># templates/tests/test-connection.yaml</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-42-3><a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
</span><span id=__span-42-4><a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-42-5><a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;myapp.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-test-connection</span>
</span><span id=__span-42-6><a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-42-7><a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
</span><span id=__span-42-8><a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-42-9><a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-42-10><a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">wget</span>
</span><span id=__span-42-11><a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">busybox</span>
</span><span id=__span-42-12><a id=__codelineno-42-12 name=__codelineno-42-12 href=#__codelineno-42-12></a><span class=w>      </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;wget&#39;</span><span class="p p-Indicator">]</span>
</span><span id=__span-42-13><a id=__codelineno-42-13 name=__codelineno-42-13 href=#__codelineno-42-13></a><span class=w>      </span><span class=nt>args</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;{{</span><span class=nv> </span><span class=s>include</span><span class=nv> </span><span class=s>&quot;myapp.fullname&quot;</span><span class=nv> </span><span class=s>.</span><span class=nv> </span><span class=s>}}:{{</span><span class=nv> </span><span class=s>.Values.service.port</span><span class=nv> </span><span class=s>}}&#39;</span><span class="p p-Indicator">]</span>
</span><span id=__span-42-14><a id=__codelineno-42-14 name=__codelineno-42-14 href=#__codelineno-42-14></a><span class=w>  </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span></code></pre></div> <div class="language-sh highlight"><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=c1># Run the tests</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>my-release
</span></code></pre></div> <blockquote> <p>Docs: <a href=https://helm.sh/docs/topics/chart_tests/ >Chart Tests</a></p> </blockquote> <hr> <h3 id=notestxt-post-install-messages>NOTES.txt - Post-Install Messages<a class=headerlink href=#notestxt-post-install-messages title="Permanent link">&para;</a></h3> <p>You can create a <code>templates/NOTES.txt</code> file to display useful information after a chart is installed:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a>Thank you for installing {{ .Chart.Name }}!
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a>Your release is named: {{ .Release.Name }}
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a>
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a>To access the application, run:
</span><span id=__span-44-6><a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a>  kubectl port-forward svc/{{ include &quot;myapp.fullname&quot; . }} 8080:{{ .Values.service.port }}
</span><span id=__span-44-7><a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a>
</span><span id=__span-44-8><a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a>Then open http://localhost:8080 in your browser.
</span></code></pre></div> <hr> <h1 id=lab>Lab<a class=headerlink href=#lab title="Permanent link">&para;</a></h1> <h3 id=step-01-installing-helm>Step 01 - Installing <code>Helm</code><a class=headerlink href=#step-01-installing-helm title="Permanent link">&para;</a></h3> <ul> <li> <p>Before you can use the <code>codewizard-helm-demo</code> chart, you&rsquo;ll need to <strong>install</strong> <code>Helm</code> on your local machine.</p> </li> <li> <p><code>Helm</code> install methods by OS:</p> </li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=4:3><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Linux</label><label for=__tabbed_4_2>MacOS</label><label for=__tabbed_4_3>Windows (via Chocolatey)</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a>curl<span class=w> </span>https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3<span class=w> </span><span class=p>|</span><span class=w> </span>bash
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a>brew<span class=w> </span>install<span class=w> </span>helm
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a>choco<span class=w> </span>install<span class=w> </span>kubernetes-helm
</span></code></pre></div> </div> </div> </div> <h4 id=verify-installation>Verify Installation<a class=headerlink href=#verify-installation title="Permanent link">&para;</a></h4> <ul> <li>To confirm that <code>Helm</code> is installed correctly, run:</li> </ul> <div class="language-bash highlight"><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a>helm<span class=w> </span>version
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a>
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=c1>## Expected output</span>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a>version.BuildInfo<span class=o>{</span>Version:<span class=s2>&quot;xx&quot;</span>,<span class=w> </span>GitCommit:<span class=s2>&quot;xx&quot;</span>,<span class=w> </span>GitTreeState:<span class=s2>&quot;clean&quot;</span>,<span class=w> </span>GoVersion:<span class=s2>&quot;xx&quot;</span><span class=o>}</span>
</span></code></pre></div> <hr> <h3 id=step-02-creating-our-helm-chart>Step 02 - Creating our <code>Helm</code> chart<a class=headerlink href=#step-02-creating-our-helm-chart title="Permanent link">&para;</a></h3> <ul> <li>Creating our custom <code>codewizard-helm-demo</code> <code>Helm</code> chart</li> <li>The custom <code>codewizard-helm-demo</code> <code>Helm</code> chart is build upon the following K8S resources:<ul> <li>ConfigMap</li> <li>Deployment</li> <li>Service</li> </ul> </li> <li>As mentioned above, we will also have the following <code>Helm</code> resources:<ul> <li>Chart.yaml</li> <li>values.yaml</li> <li>templates/_helpers.tpl</li> </ul> </li> </ul> <h4 id=create-a-new-chart>Create a New Chart<a class=headerlink href=#create-a-new-chart title="Permanent link">&para;</a></h4> <ul> <li>First, we need to create a <code>Helm</code> chart using the <code>helm create</code> command.</li> <li>This command will generate the necessary file structure for your new chart.</li> </ul> <div class="language-bash highlight"><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a>helm<span class=w> </span>create<span class=w> </span>codewizard-helm-demo
</span></code></pre></div> <details class=question> <summary>What is the result of this command?</summary> <ul> <li>Examine the chart structure!</li> <li>Try to explain to yourself which files are in the folder.</li> <li>See the above reference to the structure <a href=#chart-files-and-folders>Chart files and folders</a></li> </ul> </details> <h4 id=navigate-to-the-chart-directory>Navigate to the Chart Directory<a class=headerlink href=#navigate-to-the-chart-directory title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=nb>cd</span><span class=w> </span>codewizard-helm-demo
</span></code></pre></div> <h4 id=write-the-chart-content>Write the chart content<a class=headerlink href=#write-the-chart-content title="Permanent link">&para;</a></h4> <ul> <li>Copy the content of the chart folder (in this lab) to the chart directory (overwriting the files).</li> </ul> <h3 id=step-03-pack-the-chart>Step 03 - Pack the chart<a class=headerlink href=#step-03-pack-the-chart title="Permanent link">&para;</a></h3> <ul> <li>After we have created or customized our chart, we need to pack it as <code>.tgz</code> file, which can then be shared or installed.</li> </ul> <h4 id=helm-package>helm package<a class=headerlink href=#helm-package title="Permanent link">&para;</a></h4> <div class="admonition warning"> <p class=admonition-title>Helm Package</p> </div> <p><code>helm package</code> packages a chart into a <strong>versioned chart archive file</strong>. If a path is given, this will &ldquo;look&rdquo; at that path for a chart which must contain a <code>Chart.yaml</code> file and then pack that directory.</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a>helm<span class=w> </span>package<span class=w> </span>codewizard-helm-demo
</span></code></pre></div> <ul> <li>This command will create a file called <code>codewizard-helm-demo-&lt;version&gt;.tgz</code> inside your current directory.</li> </ul> <h3 id=step-04-validate-the-chart-content>Step 04 - Validate the chart content<a class=headerlink href=#step-04-validate-the-chart-content title="Permanent link">&para;</a></h3> <h4 id=helm-template><code>helm template</code><a class=headerlink href=#helm-template title="Permanent link">&para;</a></h4> <ul> <li><code>Helm</code> allows you to <strong>generate</strong> the Kubernetes manifests based on the templates and values files without actually installing the chart.</li> <li>This is useful to preview what the generated resources will look like:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo
</span><span id=__span-52-2><a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a>
</span><span id=__span-52-3><a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a><span class=c1>## This will output the rendered Kubernetes manifests to your terminal</span>
</span></code></pre></div> <h4 id=helm-lint><code>helm lint</code><a class=headerlink href=#helm-lint title="Permanent link">&para;</a></h4> <ul> <li>You can also lint the chart to check for well-formedness and best practices:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a>helm<span class=w> </span>lint<span class=w> </span>codewizard-helm-demo
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a>
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=c1>## Expected output:</span>
</span><span id=__span-53-4><a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=c1>## ==&gt; Linting codewizard-helm-demo</span>
</span><span id=__span-53-5><a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=c1>## [INFO] Chart.yaml: icon is recommended</span>
</span><span id=__span-53-6><a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=c1>## 1 chart(s) linted, 0 chart(s) failed</span>
</span></code></pre></div> <h3 id=step-05-install-the-chart>Step 05 - Install the chart<a class=headerlink href=#step-05-install-the-chart title="Permanent link">&para;</a></h3> <ul> <li>Install the <code>codewizard-helm-demo</code> chart into Kubernetes cluster</li> </ul> <h4 id=the-helm-install-command>The <code>helm install</code> command<a class=headerlink href=#the-helm-install-command title="Permanent link">&para;</a></h4> <ul> <li>This command installs a chart archive.</li> <li>The install argument must be a chart reference, a path to a packed chart, a path to an unpacked chart directory or a URL.</li> <li>To override values in a chart, use:</li> <li><code>--values</code> - pass in a file</li> <li><code>--set</code> - pass configuration from the command line</li> <li>Use <code>--dry-run</code> to simulate an install without actually deploying:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=c1># Dry run - preview what will be installed without deploying</span>
</span><span id=__span-54-2><a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a>helm<span class=w> </span>install<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz<span class=w> </span>--dry-run
</span></code></pre></div> <div class="language-sh highlight"><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=c1># Install the packed helm chart</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a>helm<span class=w> </span>install<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz
</span></code></pre></div> <h3 id=step-06-verify-the-installation>Step 06 - Verify the installation<a class=headerlink href=#step-06-verify-the-installation title="Permanent link">&para;</a></h3> <ul> <li>Examine newly created <code>Helm</code> chart release, and all cluster created resources:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=c1># List the installed helms</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>helm<span class=w> </span>ls
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=c1># Show detailed status of the release</span>
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a>helm<span class=w> </span>status<span class=w> </span>codewizard-helm-demo
</span><span id=__span-56-6><a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a>
</span><span id=__span-56-7><a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a><span class=c1># Get the rendered manifests of the release</span>
</span><span id=__span-56-8><a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a>helm<span class=w> </span>get<span class=w> </span>manifest<span class=w> </span>codewizard-helm-demo
</span><span id=__span-56-9><a id=__codelineno-56-9 name=__codelineno-56-9 href=#__codelineno-56-9></a>
</span><span id=__span-56-10><a id=__codelineno-56-10 name=__codelineno-56-10 href=#__codelineno-56-10></a><span class=c1># Get the values used by the release</span>
</span><span id=__span-56-11><a id=__codelineno-56-11 name=__codelineno-56-11 href=#__codelineno-56-11></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>codewizard-helm-demo
</span><span id=__span-56-12><a id=__codelineno-56-12 name=__codelineno-56-12 href=#__codelineno-56-12></a>
</span><span id=__span-56-13><a id=__codelineno-56-13 name=__codelineno-56-13 href=#__codelineno-56-13></a><span class=c1># Check the resources</span>
</span><span id=__span-56-14><a id=__codelineno-56-14 name=__codelineno-56-14 href=#__codelineno-56-14></a>kubectl<span class=w> </span>get<span class=w> </span>all<span class=w> </span>-n<span class=w> </span>codewizard
</span></code></pre></div> <h3 id=step-07-test-the-service>Step 07 - Test the service<a class=headerlink href=#step-07-test-the-service title="Permanent link">&para;</a></h3> <ul> <li>Perform an <code>HTTP GET</code> request, send it to the newly created cluster service.</li> <li>Confirm that the response contains the <code>CodeWizard Helm Demo</code> message passed from the <code>values.yaml</code> file.</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a>kubectl<span class=w> </span>run<span class=w> </span>busybox<span class=w>         </span><span class=se>\</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a><span class=w>        </span>--image<span class=o>=</span>busybox<span class=w>     </span><span class=se>\</span>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a><span class=w>        </span>--rm<span class=w>                </span><span class=se>\</span>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a><span class=w>        </span>-it<span class=w>                 </span><span class=se>\</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a><span class=w>        </span>--restart<span class=o>=</span>Never<span class=w>     </span><span class=se>\</span>
</span><span id=__span-57-6><a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a><span class=w>        </span>--<span class=w> </span>/bin/sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;wget -qO- http://codewizard-helm-demo.codewizard.svc.cluster.local&quot;</span>
</span><span id=__span-57-7><a id=__codelineno-57-7 name=__codelineno-57-7 href=#__codelineno-57-7></a>
</span><span id=__span-57-8><a id=__codelineno-57-8 name=__codelineno-57-8 href=#__codelineno-57-8></a><span class=c1>### Output:</span>
</span><span id=__span-57-9><a id=__codelineno-57-9 name=__codelineno-57-9 href=#__codelineno-57-9></a>CodeWizard<span class=w> </span>Helm<span class=w> </span>Demo
</span></code></pre></div> <ul> <li>You can also test the release name and revision endpoints defined in the ConfigMap:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=c1># Get the release name</span>
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>kubectl<span class=w> </span>run<span class=w> </span>busybox<span class=w> </span>--image<span class=o>=</span>busybox<span class=w> </span>--rm<span class=w> </span>-it<span class=w> </span>--restart<span class=o>=</span>Never<span class=w> </span><span class=se>\</span>
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a><span class=w>  </span>--<span class=w> </span>/bin/sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;wget -qO- http://codewizard-helm-demo.codewizard.svc.cluster.local/release/name&quot;</span>
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a>
</span><span id=__span-58-5><a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a><span class=c1># Get the release revision</span>
</span><span id=__span-58-6><a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a>kubectl<span class=w> </span>run<span class=w> </span>busybox<span class=w> </span>--image<span class=o>=</span>busybox<span class=w> </span>--rm<span class=w> </span>-it<span class=w> </span>--restart<span class=o>=</span>Never<span class=w> </span><span class=se>\</span>
</span><span id=__span-58-7><a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a><span class=w>  </span>--<span class=w> </span>/bin/sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;wget -qO- http://codewizard-helm-demo.codewizard.svc.cluster.local/release/revision&quot;</span>
</span></code></pre></div> <div class="language-sh highlight"><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=c1># upgrade and pass a different message than the one from the default values</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a><span class=c1># Use the --set to pass the desired value</span>
</span><span id=__span-59-3><a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a>helm<span class=w>  </span>upgrade<span class=w> </span><span class=se>\</span>
</span><span id=__span-59-4><a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a><span class=w>  </span>codewizard-helm-demo<span class=w> </span><span class=se>\</span>
</span><span id=__span-59-5><a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a><span class=w>  </span>codewizard-helm-demo-0.1.0.tgz<span class=w> </span><span class=se>\</span>
</span><span id=__span-59-6><a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a><span class=w>  </span>--set<span class=w> </span>nginx.conf.message<span class=o>=</span><span class=s2>&quot;Helm Rocks&quot;</span>
</span></code></pre></div> <h3 id=step-09-check-the-upgrade>Step 09 - Check the upgrade<a class=headerlink href=#step-09-check-the-upgrade title="Permanent link">&para;</a></h3> <ul> <li>Perform another <code>HTTP GET</code> request.</li> <li>Confirm that the response now has the updated message <code>Helm Rocks</code>:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a>kubectl<span class=w> </span>run<span class=w> </span>busybox<span class=w>         </span><span class=se>\</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a><span class=w>        </span>--image<span class=o>=</span>busybox<span class=w>     </span><span class=se>\</span>
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=w>        </span>--rm<span class=w>                </span><span class=se>\</span>
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=w>        </span>-it<span class=w>                 </span><span class=se>\</span>
</span><span id=__span-60-5><a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a><span class=w>        </span>--restart<span class=o>=</span>Never<span class=w>     </span><span class=se>\</span>
</span><span id=__span-60-6><a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a><span class=w>        </span>--<span class=w> </span>/bin/sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;wget -qO- http://codewizard-helm-demo.codewizard.svc.cluster.local&quot;</span>
</span><span id=__span-60-7><a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a>
</span><span id=__span-60-8><a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a><span class=c1>### Output:</span>
</span><span id=__span-60-9><a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a>Helm<span class=w> </span>Rocks
</span></code></pre></div> <ul> <li>Also check the revision number - it should now be <code>2</code>:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a>kubectl<span class=w> </span>run<span class=w> </span>busybox<span class=w> </span>--image<span class=o>=</span>busybox<span class=w> </span>--rm<span class=w> </span>-it<span class=w> </span>--restart<span class=o>=</span>Never<span class=w> </span><span class=se>\</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=w>  </span>--<span class=w> </span>/bin/sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;wget -qO- http://codewizard-helm-demo.codewizard.svc.cluster.local/release/revision&quot;</span>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a><span class=c1>### Output:</span>
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a><span class=m>2</span>
</span></code></pre></div> <h4 id=helm-history><code>helm history</code><a class=headerlink href=#helm-history title="Permanent link">&para;</a></h4> <ul> <li><code>helm history</code> prints historical revisions for a given release.</li> <li>A default maximum of 256 revisions will be returned.</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a>helm<span class=w> </span><span class=nb>history</span><span class=w> </span>codewizard-helm-demo
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a>
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=c1>### Sample output</span>
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a>REVISION<span class=w>        </span>UPDATED<span class=w>    </span>STATUS<span class=w>          </span>CHART<span class=w>                           </span>APP<span class=w> </span>VERSION<span class=w>     </span>DESCRIPTION
</span><span id=__span-62-5><a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a><span class=m>1</span><span class=w>               </span>...<span class=w>        </span>superseded<span class=w>      </span>codewizard-helm-demo-0.1.0<span class=w>      </span><span class=m>1</span>.19.7<span class=w>          </span>Install<span class=w> </span><span class=nb>complete</span>
</span><span id=__span-62-6><a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a><span class=m>2</span><span class=w>               </span>...<span class=w>        </span>deployed<span class=w>        </span>codewizard-helm-demo-0.1.0<span class=w>      </span><span class=m>1</span>.19.7<span class=w>          </span>Upgrade<span class=w> </span><span class=nb>complete</span>
</span></code></pre></div> <h3 id=step-11-rollback>Step 11 - Rollback<a class=headerlink href=#step-11-rollback title="Permanent link">&para;</a></h3> <h4 id=helm-rollback><code>helm rollback</code><a class=headerlink href=#helm-rollback title="Permanent link">&para;</a></h4> <ul> <li>Rollback the <code>codewizard-helm-demo</code> release to previous version:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a>helm<span class=w> </span>rollback<span class=w> </span>codewizard-helm-demo
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a>
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a><span class=c1>### Output:</span>
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a>Rollback<span class=w> </span>was<span class=w> </span>a<span class=w> </span>success!<span class=w> </span>Happy<span class=w> </span>Helming!
</span></code></pre></div> <ul> <li>Check again to verify that you get the original message!</li> </ul> <hr> <h1 id=exercises>Exercises<a class=headerlink href=#exercises title="Permanent link">&para;</a></h1> <p>The following exercises will test your understanding of <code>Helm</code> concepts. Try to solve each exercise on your own before revealing the solution.</p> <hr> <h4 id=01-explore-a-public-chart-repository>01. Explore a Public Chart Repository<a class=headerlink href=#01-explore-a-public-chart-repository title="Permanent link">&para;</a></h4> <p>Add the Bitnami chart repository and search for an <code>nginx</code> chart.</p> <h4 id=scenario>Scenario:<a class=headerlink href=#scenario title="Permanent link">&para;</a></h4> <p>◦ You need to find and inspect a publicly available Helm chart before installing it. ◦ Chart repositories are the standard way to discover and share Helm charts.</p> <p><strong>Hint:</strong> Use <code>helm repo add</code>, <code>helm repo update</code>, and <code>helm search repo</code>.</p> <details> <summary>Solution</summary> <div class="language-bash highlight"><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=c1># Add the Bitnami chart repository</span>
</span><span id=__span-64-2><a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>bitnami<span class=w> </span>https://charts.bitnami.com/bitnami
</span><span id=__span-64-3><a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a>
</span><span id=__span-64-4><a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a><span class=c1># Update the repository index</span>
</span><span id=__span-64-5><a id=__codelineno-64-5 name=__codelineno-64-5 href=#__codelineno-64-5></a>helm<span class=w> </span>repo<span class=w> </span>update
</span><span id=__span-64-6><a id=__codelineno-64-6 name=__codelineno-64-6 href=#__codelineno-64-6></a>
</span><span id=__span-64-7><a id=__codelineno-64-7 name=__codelineno-64-7 href=#__codelineno-64-7></a><span class=c1># Search for nginx charts</span>
</span><span id=__span-64-8><a id=__codelineno-64-8 name=__codelineno-64-8 href=#__codelineno-64-8></a>helm<span class=w> </span>search<span class=w> </span>repo<span class=w> </span>nginx
</span><span id=__span-64-9><a id=__codelineno-64-9 name=__codelineno-64-9 href=#__codelineno-64-9></a>
</span><span id=__span-64-10><a id=__codelineno-64-10 name=__codelineno-64-10 href=#__codelineno-64-10></a><span class=c1># Show the default values of the bitnami nginx chart</span>
</span><span id=__span-64-11><a id=__codelineno-64-11 name=__codelineno-64-11 href=#__codelineno-64-11></a>helm<span class=w> </span>show<span class=w> </span>values<span class=w> </span>bitnami/nginx<span class=w> </span><span class=p>|</span><span class=w> </span>head<span class=w> </span>-50
</span></code></pre></div> </details> <hr> <h4 id=02-install-with-custom-values-file>02. Install with Custom Values File<a class=headerlink href=#02-install-with-custom-values-file title="Permanent link">&para;</a></h4> <p>Create a custom <code>values.yaml</code> file that changes the <code>replicaCount</code> to <code>3</code> and the message to <code>"Hello from custom values"</code>, then install the chart using this file.</p> <h4 id=scenario_1>Scenario:<a class=headerlink href=#scenario_1 title="Permanent link">&para;</a></h4> <p>◦ In production environments, you rarely use default values. ◦ Custom values files let you manage environment-specific configurations (dev, staging, prod).</p> <p><strong>Hint:</strong> Create a YAML file and use <code>helm install -f &lt;file&gt;</code>.</p> <details> <summary>Solution</summary> <div class="language-bash highlight"><pre><span></span><code><span id=__span-65-1><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=c1># Create a custom values file</span>
</span><span id=__span-65-2><a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a>cat<span class=w> </span><span class=s>&lt;&lt;EOF &gt; custom-values.yaml</span>
</span><span id=__span-65-3><a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a><span class=s>replicaCount: 3</span>
</span><span id=__span-65-4><a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a><span class=s>nginx:</span>
</span><span id=__span-65-5><a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=s>  conf:</span>
</span><span id=__span-65-6><a id=__codelineno-65-6 name=__codelineno-65-6 href=#__codelineno-65-6></a><span class=s>    message: &quot;Hello from custom values&quot;</span>
</span><span id=__span-65-7><a id=__codelineno-65-7 name=__codelineno-65-7 href=#__codelineno-65-7></a><span class=s>EOF</span>
</span><span id=__span-65-8><a id=__codelineno-65-8 name=__codelineno-65-8 href=#__codelineno-65-8></a>
</span><span id=__span-65-9><a id=__codelineno-65-9 name=__codelineno-65-9 href=#__codelineno-65-9></a><span class=c1># Install with the custom values file</span>
</span><span id=__span-65-10><a id=__codelineno-65-10 name=__codelineno-65-10 href=#__codelineno-65-10></a>helm<span class=w> </span>install<span class=w> </span>custom-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz<span class=w> </span>-f<span class=w> </span>custom-values.yaml
</span><span id=__span-65-11><a id=__codelineno-65-11 name=__codelineno-65-11 href=#__codelineno-65-11></a>
</span><span id=__span-65-12><a id=__codelineno-65-12 name=__codelineno-65-12 href=#__codelineno-65-12></a><span class=c1># Verify the replica count</span>
</span><span id=__span-65-13><a id=__codelineno-65-13 name=__codelineno-65-13 href=#__codelineno-65-13></a>kubectl<span class=w> </span>get<span class=w> </span>deployment<span class=w> </span>-n<span class=w> </span>codewizard
</span><span id=__span-65-14><a id=__codelineno-65-14 name=__codelineno-65-14 href=#__codelineno-65-14></a>
</span><span id=__span-65-15><a id=__codelineno-65-15 name=__codelineno-65-15 href=#__codelineno-65-15></a><span class=c1># Verify the message</span>
</span><span id=__span-65-16><a id=__codelineno-65-16 name=__codelineno-65-16 href=#__codelineno-65-16></a>kubectl<span class=w> </span>run<span class=w> </span>busybox<span class=w> </span>--image<span class=o>=</span>busybox<span class=w> </span>--rm<span class=w> </span>-it<span class=w> </span>--restart<span class=o>=</span>Never<span class=w> </span><span class=se>\</span>
</span><span id=__span-65-17><a id=__codelineno-65-17 name=__codelineno-65-17 href=#__codelineno-65-17></a><span class=w>  </span>--<span class=w> </span>/bin/sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;wget -qO- http://custom-demo.codewizard.svc.cluster.local&quot;</span>
</span><span id=__span-65-18><a id=__codelineno-65-18 name=__codelineno-65-18 href=#__codelineno-65-18></a>
</span><span id=__span-65-19><a id=__codelineno-65-19 name=__codelineno-65-19 href=#__codelineno-65-19></a><span class=c1># Cleanup</span>
</span><span id=__span-65-20><a id=__codelineno-65-20 name=__codelineno-65-20 href=#__codelineno-65-20></a>helm<span class=w> </span>uninstall<span class=w> </span>custom-demo
</span><span id=__span-65-21><a id=__codelineno-65-21 name=__codelineno-65-21 href=#__codelineno-65-21></a>rm<span class=w> </span>custom-values.yaml
</span></code></pre></div> </details> <hr> <h4 id=03-debug-a-failing-template>03. Debug a Failing Template<a class=headerlink href=#03-debug-a-failing-template title="Permanent link">&para;</a></h4> <p>Given the following broken template snippet, identify and fix the error. Save this as <code>templates/broken.yaml</code> in the chart, then use <code>helm template</code> to find the issue:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-66-1><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-66-2><a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
</span><span id=__span-66-3><a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-66-4><a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.brokenName</span><span class=w> </span><span class="p p-Indicator">}</span>
</span><span id=__span-66-5><a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-66-6><a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a><span class=nt>  key</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.missingValue | default &quot;fallback&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <h4 id=scenario_2>Scenario:<a class=headerlink href=#scenario_2 title="Permanent link">&para;</a></h4> <p>◦ Template syntax errors are common during chart development. ◦ <code>helm template</code> and <code>helm lint</code> are your best debugging tools.</p> <p><strong>Hint:</strong> Use <code>helm template</code> and <code>helm lint</code> to identify the error. Count the curly braces.</p> <details> <summary>Solution</summary> The error is a missing closing brace on line 4: `{{ .Values.brokenName }` should be `{{ .Values.brokenName }}`. <div class="language-bash highlight"><pre><span></span><code><span id=__span-67-1><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=c1># Lint the chart to find errors</span>
</span><span id=__span-67-2><a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a>helm<span class=w> </span>lint<span class=w> </span>codewizard-helm-demo
</span><span id=__span-67-3><a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a>
</span><span id=__span-67-4><a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a><span class=c1># Try to render the template - this will show the error</span>
</span><span id=__span-67-5><a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo
</span><span id=__span-67-6><a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a>
</span><span id=__span-67-7><a id=__codelineno-67-7 name=__codelineno-67-7 href=#__codelineno-67-7></a><span class=c1># Fix: the correct line should be:</span>
</span><span id=__span-67-8><a id=__codelineno-67-8 name=__codelineno-67-8 href=#__codelineno-67-8></a><span class=c1>#   name: {{ .Values.brokenName }}</span>
</span><span id=__span-67-9><a id=__codelineno-67-9 name=__codelineno-67-9 href=#__codelineno-67-9></a><span class=c1># (two closing braces instead of one)</span>
</span><span id=__span-67-10><a id=__codelineno-67-10 name=__codelineno-67-10 href=#__codelineno-67-10></a>
</span><span id=__span-67-11><a id=__codelineno-67-11 name=__codelineno-67-11 href=#__codelineno-67-11></a><span class=c1># Don&#39;t forget to remove the broken test file</span>
</span><span id=__span-67-12><a id=__codelineno-67-12 name=__codelineno-67-12 href=#__codelineno-67-12></a>rm<span class=w> </span>codewizard-helm-demo/templates/broken.yaml
</span></code></pre></div> </details> <hr> <h4 id=04-use-set-to-override-multiple-values>04. Use <code>--set</code> to Override Multiple Values<a class=headerlink href=#04-use-set-to-override-multiple-values title="Permanent link">&para;</a></h4> <p>Upgrade the <code>codewizard-helm-demo</code> release to use <code>3</code> replicas, image tag <code>1.21.0</code>, and the message <code>"Multi-set Override"</code> - all in a single command.</p> <h4 id=scenario_3>Scenario:<a class=headerlink href=#scenario_3 title="Permanent link">&para;</a></h4> <p>◦ Quick overrides using <code>--set</code> are common for CI/CD pipelines and ad-hoc changes. ◦ You need to understand the dot-notation for nested values.</p> <p><strong>Hint:</strong> Chain multiple <code>--set</code> flags or use comma-separated notation.</p> <details> <summary>Solution</summary> <div class="language-bash highlight"><pre><span></span><code><span id=__span-68-1><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=c1># Method 1: multiple --set flags</span>
</span><span id=__span-68-2><a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a>helm<span class=w> </span>upgrade<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz<span class=w> </span><span class=se>\</span>
</span><span id=__span-68-3><a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a><span class=w>  </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>3</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-68-4><a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a><span class=w>  </span>--set<span class=w> </span>image.tag<span class=o>=</span><span class=s2>&quot;1.21.0&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-68-5><a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a><span class=w>  </span>--set<span class=w> </span>nginx.conf.message<span class=o>=</span><span class=s2>&quot;Multi-set Override&quot;</span>
</span><span id=__span-68-6><a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a>
</span><span id=__span-68-7><a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a><span class=c1># Method 2: comma-separated (equivalent)</span>
</span><span id=__span-68-8><a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a>helm<span class=w> </span>upgrade<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz<span class=w> </span><span class=se>\</span>
</span><span id=__span-68-9><a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a><span class=w>  </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>3</span>,image.tag<span class=o>=</span><span class=m>1</span>.21.0,nginx.conf.message<span class=o>=</span><span class=s2>&quot;Multi-set Override&quot;</span>
</span><span id=__span-68-10><a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a>
</span><span id=__span-68-11><a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a><span class=c1># Verify the values</span>
</span><span id=__span-68-12><a id=__codelineno-68-12 name=__codelineno-68-12 href=#__codelineno-68-12></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>codewizard-helm-demo
</span><span id=__span-68-13><a id=__codelineno-68-13 name=__codelineno-68-13 href=#__codelineno-68-13></a>
</span><span id=__span-68-14><a id=__codelineno-68-14 name=__codelineno-68-14 href=#__codelineno-68-14></a><span class=c1># Verify replicas and image</span>
</span><span id=__span-68-15><a id=__codelineno-68-15 name=__codelineno-68-15 href=#__codelineno-68-15></a>kubectl<span class=w> </span>get<span class=w> </span>deployment<span class=w> </span>-n<span class=w> </span>codewizard<span class=w> </span>-o<span class=w> </span>wide
</span></code></pre></div> </details> <hr> <h4 id=05-add-a-conditional-resource>05. Add a Conditional Resource<a class=headerlink href=#05-add-a-conditional-resource title="Permanent link">&para;</a></h4> <p>Modify the <code>codewizard-helm-demo</code> chart to add an optional <code>Ingress</code> resource that is only created when <code>ingress.enabled</code> is set to <code>true</code> in <code>values.yaml</code>.</p> <h4 id=scenario_4>Scenario:<a class=headerlink href=#scenario_4 title="Permanent link">&para;</a></h4> <p>◦ Not all environments need an Ingress (e.g., local development vs. production). ◦ Conditional rendering with <code>if</code> blocks is a fundamental Helm templating pattern.</p> <p><strong>Hint:</strong> Use <code>{{- if .Values.ingress.enabled }}</code> &hellip; <code>{{- end }}</code>. Add <code>ingress.enabled: false</code> to <code>values.yaml</code>.</p> <details> <summary>Solution</summary> <div class="language-bash highlight"><pre><span></span><code><span id=__span-69-1><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=c1># 1. Add ingress values to values.yaml</span>
</span><span id=__span-69-2><a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a>cat<span class=w> </span><span class=s>&lt;&lt;EOF &gt;&gt; codewizard-helm-demo/values.yaml</span>
</span><span id=__span-69-3><a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a>
</span><span id=__span-69-4><a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a><span class=s>ingress:</span>
</span><span id=__span-69-5><a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a><span class=s>  enabled: false</span>
</span><span id=__span-69-6><a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a><span class=s>  host: demo.example.com</span>
</span><span id=__span-69-7><a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a><span class=s>EOF</span>
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-70-1><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=c1># 2. Create templates/Ingress.yaml</span>
</span><span id=__span-70-2><a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=c1># Save this as codewizard-helm-demo/templates/Ingress.yaml:</span>
</span><span id=__span-70-3><a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class="p p-Indicator">{{</span><span class=nv>- if .Values.ingress.enabled</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-70-4><a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
</span><span id=__span-70-5><a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
</span><span id=__span-70-6><a id=__codelineno-70-6 name=__codelineno-70-6 href=#__codelineno-70-6></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-70-7><a id=__codelineno-70-7 name=__codelineno-70-7 href=#__codelineno-70-7></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;webserver.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-70-8><a id=__codelineno-70-8 name=__codelineno-70-8 href=#__codelineno-70-8></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codewizard</span>
</span><span id=__span-70-9><a id=__codelineno-70-9 name=__codelineno-70-9 href=#__codelineno-70-9></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-70-10><a id=__codelineno-70-10 name=__codelineno-70-10 href=#__codelineno-70-10></a><span class=w>    </span><span class="p p-Indicator">{{</span><span class=nv>- include &quot;webserver.labels&quot; . | nindent 4</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-70-11><a id=__codelineno-70-11 name=__codelineno-70-11 href=#__codelineno-70-11></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-70-12><a id=__codelineno-70-12 name=__codelineno-70-12 href=#__codelineno-70-12></a><span class=w>  </span><span class=nt>rules</span><span class=p>:</span>
</span><span id=__span-70-13><a id=__codelineno-70-13 name=__codelineno-70-13 href=#__codelineno-70-13></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.ingress.host</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-70-14><a id=__codelineno-70-14 name=__codelineno-70-14 href=#__codelineno-70-14></a><span class=w>      </span><span class=nt>http</span><span class=p>:</span>
</span><span id=__span-70-15><a id=__codelineno-70-15 name=__codelineno-70-15 href=#__codelineno-70-15></a><span class=w>        </span><span class=nt>paths</span><span class=p>:</span>
</span><span id=__span-70-16><a id=__codelineno-70-16 name=__codelineno-70-16 href=#__codelineno-70-16></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
</span><span id=__span-70-17><a id=__codelineno-70-17 name=__codelineno-70-17 href=#__codelineno-70-17></a><span class=w>            </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
</span><span id=__span-70-18><a id=__codelineno-70-18 name=__codelineno-70-18 href=#__codelineno-70-18></a><span class=w>            </span><span class=nt>backend</span><span class=p>:</span>
</span><span id=__span-70-19><a id=__codelineno-70-19 name=__codelineno-70-19 href=#__codelineno-70-19></a><span class=w>              </span><span class=nt>service</span><span class=p>:</span>
</span><span id=__span-70-20><a id=__codelineno-70-20 name=__codelineno-70-20 href=#__codelineno-70-20></a><span class=w>                </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;webserver.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-70-21><a id=__codelineno-70-21 name=__codelineno-70-21 href=#__codelineno-70-21></a><span class=w>                </span><span class=nt>port</span><span class=p>:</span>
</span><span id=__span-70-22><a id=__codelineno-70-22 name=__codelineno-70-22 href=#__codelineno-70-22></a><span class=w>                  </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.service.port</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-70-23><a id=__codelineno-70-23 name=__codelineno-70-23 href=#__codelineno-70-23></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-71-1><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=c1># 3. Verify: template without ingress (should NOT include Ingress resource)</span>
</span><span id=__span-71-2><a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-A5<span class=w> </span><span class=s2>&quot;kind: Ingress&quot;</span>
</span><span id=__span-71-3><a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a>
</span><span id=__span-71-4><a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a><span class=c1># 4. Verify: template WITH ingress enabled (should include Ingress resource)</span>
</span><span id=__span-71-5><a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo<span class=w> </span>--set<span class=w> </span>ingress.enabled<span class=o>=</span><span class=nb>true</span><span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-A20<span class=w> </span><span class=s2>&quot;kind: Ingress&quot;</span>
</span><span id=__span-71-6><a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a>
</span><span id=__span-71-7><a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a><span class=c1># 5. Cleanup - remove the ingress template</span>
</span><span id=__span-71-8><a id=__codelineno-71-8 name=__codelineno-71-8 href=#__codelineno-71-8></a>rm<span class=w> </span>codewizard-helm-demo/templates/Ingress.yaml
</span></code></pre></div> </details> <hr> <h4 id=06-add-a-named-template>06. Add a Named Template<a class=headerlink href=#06-add-a-named-template title="Permanent link">&para;</a></h4> <p>Create a new named template in <code>_helpers.tpl</code> called <code>webserver.annotations</code> that generates a set of annotations including the chart version and a custom <code>team</code> annotation from values. Then use it in the Deployment.</p> <h4 id=scenario_5>Scenario:<a class=headerlink href=#scenario_5 title="Permanent link">&para;</a></h4> <p>◦ Named templates reduce duplication across manifests. ◦ Annotations are commonly used for metadata, monitoring, and CI/CD integration.</p> <p><strong>Hint:</strong> Use <code>{{- define "webserver.annotations" -}}</code> to define and <code>{{ include "webserver.annotations" . | nindent N }}</code> to use it.</p> <details> <summary>Solution</summary> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-72-1><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=c1># 1. Add to _helpers.tpl:</span>
</span><span id=__span-72-2><a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a><span class="p p-Indicator">{{</span><span class=nv>/*</span>
</span><span id=__span-72-3><a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a><span class=nv>Common annotations</span>
</span><span id=__span-72-4><a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a><span class=nv>*/</span><span class="p p-Indicator">}}</span>
</span><span id=__span-72-5><a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a><span class="p p-Indicator">{{</span><span class=nv>- define &quot;webserver.annotations&quot; -</span><span class="p p-Indicator">}}</span>
</span><span id=__span-72-6><a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a><span class=nt>app.kubernetes.io/chart</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;webserver.chart&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-72-7><a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a><span class=nt>app.kubernetes.io/team</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.Values.team | default &quot;platform&quot;</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-72-8><a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-73-1><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=c1># 2. Use in Deployment.yaml metadata:</span>
</span><span id=__span-73-2><a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-73-3><a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class=nv>include &quot;webserver.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}</span><span class=w> </span><span class="p p-Indicator">}</span>
</span><span id=__span-73-4><a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codewizard</span>
</span><span id=__span-73-5><a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class=nv>- include &quot;webserver.annotations&quot; . | nindent 4</span><span class=w> </span><span class="p p-Indicator">}</span><span class=w> </span><span class="p p-Indicator">}</span>
</span><span id=__span-73-6><a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class="p p-Indicator">{</span><span class=w> </span><span class=nv>- include &quot;webserver.labels&quot; . | nindent 4</span><span class=w> </span><span class="p p-Indicator">}</span><span class=w> </span><span class="p p-Indicator">}</span>
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-74-1><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a><span class=c1># 3. Verify the rendered output</span>
</span><span id=__span-74-2><a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo<span class=w> </span>--set<span class=w> </span><span class=nv>team</span><span class=o>=</span><span class=s2>&quot;devops&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-A5<span class=w> </span><span class=s2>&quot;annotations&quot;</span>
</span></code></pre></div> </details> <hr> <h4 id=07-use-range-to-generate-multiple-environment-variables>07. Use <code>range</code> to Generate Multiple Environment Variables<a class=headerlink href=#07-use-range-to-generate-multiple-environment-variables title="Permanent link">&para;</a></h4> <p>Modify the Deployment template to inject a list of environment variables from <code>values.yaml</code> using the <code>range</code> function.</p> <h4 id=scenario_6>Scenario:<a class=headerlink href=#scenario_6 title="Permanent link">&para;</a></h4> <p>◦ Real-world deployments often require multiple environment variables. ◦ Hardcoding them in templates is not maintainable - values-driven configuration is preferred.</p> <p><strong>Hint:</strong> Add an <code>env</code> list to <code>values.yaml</code> and use <code>{{- range .Values.env }}</code> in the container spec.</p> <details> <summary>Solution</summary> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-75-1><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=c1># 1. Add to values.yaml:</span>
</span><span id=__span-75-2><a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-75-3><a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">APP_ENV</span>
</span><span id=__span-75-4><a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;production&quot;</span>
</span><span id=__span-75-5><a id=__codelineno-75-5 name=__codelineno-75-5 href=#__codelineno-75-5></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">LOG_LEVEL</span>
</span><span id=__span-75-6><a id=__codelineno-75-6 name=__codelineno-75-6 href=#__codelineno-75-6></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;info&quot;</span>
</span><span id=__span-75-7><a id=__codelineno-75-7 name=__codelineno-75-7 href=#__codelineno-75-7></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">APP_VERSION</span>
</span><span id=__span-75-8><a id=__codelineno-75-8 name=__codelineno-75-8 href=#__codelineno-75-8></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;1.0.0&quot;</span>
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-76-1><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=c1># 2. Add to templates/Deployment.yaml inside the container spec (after imagePullPolicy):</span>
</span><span id=__span-76-2><a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a><span class=w>          </span><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-76-3><a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a><span class=w>          </span><span class="p p-Indicator">{{</span><span class=nv>- range .Values.env</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-76-4><a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.name</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-76-5><a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>.value | quote</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-76-6><a id=__codelineno-76-6 name=__codelineno-76-6 href=#__codelineno-76-6></a><span class=w>          </span><span class="p p-Indicator">{{</span><span class=nv>- end</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-77-1><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class=c1># 3. Verify rendered output</span>
</span><span id=__span-77-2><a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-A15<span class=w> </span><span class=s2>&quot;env:&quot;</span>
</span><span id=__span-77-3><a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a>
</span><span id=__span-77-4><a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a><span class=c1># 4. Override from command line</span>
</span><span id=__span-77-5><a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo<span class=w> </span><span class=se>\</span>
</span><span id=__span-77-6><a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a><span class=w>  </span>--set<span class=w> </span><span class=s2>&quot;env[0].name=CUSTOM_VAR&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-77-7><a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a><span class=w>  </span>--set<span class=w> </span><span class=s2>&quot;env[0].value=custom-value&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-A5<span class=w> </span><span class=s2>&quot;env:&quot;</span>
</span></code></pre></div> </details> <hr> <h4 id=08-create-a-helm-test>08. Create a Helm Test<a class=headerlink href=#08-create-a-helm-test title="Permanent link">&para;</a></h4> <p>Add a Helm test to the <code>codewizard-helm-demo</code> chart that verifies the service is reachable and returns the expected message.</p> <h4 id=scenario_7>Scenario:<a class=headerlink href=#scenario_7 title="Permanent link">&para;</a></h4> <p>◦ Helm tests allow you to validate that a release is working correctly after deployment. ◦ Tests are pod definitions with the <code>"helm.sh/hook": test</code> annotation.</p> <p><strong>Hint:</strong> Create a file in <code>templates/tests/</code> with a <code>busybox</code> pod that runs <code>wget</code> against the service.</p> <details> <summary>Solution</summary> <div class="language-bash highlight"><pre><span></span><code><span id=__span-78-1><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=c1># 1. Create the tests directory</span>
</span><span id=__span-78-2><a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>mkdir<span class=w> </span>-p<span class=w> </span>codewizard-helm-demo/templates/tests
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-79-1><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=c1># 2. Create templates/tests/test-connection.yaml:</span>
</span><span id=__span-79-2><a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-79-3><a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
</span><span id=__span-79-4><a id=__codelineno-79-4 name=__codelineno-79-4 href=#__codelineno-79-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-79-5><a id=__codelineno-79-5 name=__codelineno-79-5 href=#__codelineno-79-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;webserver.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-test-connection</span>
</span><span id=__span-79-6><a id=__codelineno-79-6 name=__codelineno-79-6 href=#__codelineno-79-6></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codewizard</span>
</span><span id=__span-79-7><a id=__codelineno-79-7 name=__codelineno-79-7 href=#__codelineno-79-7></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-79-8><a id=__codelineno-79-8 name=__codelineno-79-8 href=#__codelineno-79-8></a><span class=w>    </span><span class="p p-Indicator">{{</span><span class=nv>- include &quot;webserver.labels&quot; . | nindent 4</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-79-9><a id=__codelineno-79-9 name=__codelineno-79-9 href=#__codelineno-79-9></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-79-10><a id=__codelineno-79-10 name=__codelineno-79-10 href=#__codelineno-79-10></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
</span><span id=__span-79-11><a id=__codelineno-79-11 name=__codelineno-79-11 href=#__codelineno-79-11></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-79-12><a id=__codelineno-79-12 name=__codelineno-79-12 href=#__codelineno-79-12></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-79-13><a id=__codelineno-79-13 name=__codelineno-79-13 href=#__codelineno-79-13></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">wget</span>
</span><span id=__span-79-14><a id=__codelineno-79-14 name=__codelineno-79-14 href=#__codelineno-79-14></a><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">busybox</span>
</span><span id=__span-79-15><a id=__codelineno-79-15 name=__codelineno-79-15 href=#__codelineno-79-15></a><span class=w>      </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;sh&#39;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&#39;-c&#39;</span><span class="p p-Indicator">]</span>
</span><span id=__span-79-16><a id=__codelineno-79-16 name=__codelineno-79-16 href=#__codelineno-79-16></a><span class=w>      </span><span class=nt>args</span><span class=p>:</span>
</span><span id=__span-79-17><a id=__codelineno-79-17 name=__codelineno-79-17 href=#__codelineno-79-17></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-79-18><a id=__codelineno-79-18 name=__codelineno-79-18 href=#__codelineno-79-18></a><span class=w>          </span><span class=no>RESPONSE=$(wget -qO- http://{{ include &quot;webserver.fullname&quot; . }}.codewizard.svc.cluster.local)</span>
</span><span id=__span-79-19><a id=__codelineno-79-19 name=__codelineno-79-19 href=#__codelineno-79-19></a><span class=w>          </span><span class=no>echo &quot;Response: $RESPONSE&quot;</span>
</span><span id=__span-79-20><a id=__codelineno-79-20 name=__codelineno-79-20 href=#__codelineno-79-20></a><span class=w>          </span><span class=no>echo &quot;$RESPONSE&quot; | grep -q &quot;{{ .Values.nginx.conf.message }}&quot;</span>
</span><span id=__span-79-21><a id=__codelineno-79-21 name=__codelineno-79-21 href=#__codelineno-79-21></a><span class=w>  </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-80-1><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=c1># 3. Install or upgrade the chart</span>
</span><span id=__span-80-2><a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>helm<span class=w> </span>upgrade<span class=w> </span>--install<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz
</span><span id=__span-80-3><a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a>
</span><span id=__span-80-4><a id=__codelineno-80-4 name=__codelineno-80-4 href=#__codelineno-80-4></a><span class=c1># 4. Run the test</span>
</span><span id=__span-80-5><a id=__codelineno-80-5 name=__codelineno-80-5 href=#__codelineno-80-5></a>helm<span class=w> </span><span class=nb>test</span><span class=w> </span>codewizard-helm-demo
</span><span id=__span-80-6><a id=__codelineno-80-6 name=__codelineno-80-6 href=#__codelineno-80-6></a>
</span><span id=__span-80-7><a id=__codelineno-80-7 name=__codelineno-80-7 href=#__codelineno-80-7></a><span class=c1># Expected output:</span>
</span><span id=__span-80-8><a id=__codelineno-80-8 name=__codelineno-80-8 href=#__codelineno-80-8></a><span class=c1># NAME: codewizard-helm-demo</span>
</span><span id=__span-80-9><a id=__codelineno-80-9 name=__codelineno-80-9 href=#__codelineno-80-9></a><span class=c1># ...</span>
</span><span id=__span-80-10><a id=__codelineno-80-10 name=__codelineno-80-10 href=#__codelineno-80-10></a><span class=c1># Phase: Succeeded</span>
</span></code></pre></div> </details> <hr> <h4 id=09-manage-chart-dependencies>09. Manage Chart Dependencies<a class=headerlink href=#09-manage-chart-dependencies title="Permanent link">&para;</a></h4> <p>Create a new <code>Helm</code> chart that depends on the <code>bitnami/redis</code> chart as a subchart. Configure the dependency and update it.</p> <h4 id=scenario_8>Scenario:<a class=headerlink href=#scenario_8 title="Permanent link">&para;</a></h4> <p>◦ Most real-world applications depend on databases, caches, or message queues. ◦ Helm dependencies let you compose complex deployments from reusable charts.</p> <p><strong>Hint:</strong> Add a <code>dependencies</code> section to <code>Chart.yaml</code>, then run <code>helm dependency update</code>.</p> <details> <summary>Solution</summary> <div class="language-bash highlight"><pre><span></span><code><span id=__span-81-1><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=c1># 1. Create a new chart</span>
</span><span id=__span-81-2><a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a>helm<span class=w> </span>create<span class=w> </span>myapp-with-deps
</span><span id=__span-81-3><a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a><span class=nb>cd</span><span class=w> </span>myapp-with-deps
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-82-1><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=c1># 2. Add dependencies to Chart.yaml (append at the end):</span>
</span><span id=__span-82-2><a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a><span class=nt>dependencies</span><span class=p>:</span>
</span><span id=__span-82-3><a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>
</span><span id=__span-82-4><a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>&quot;~17&quot;</span>
</span><span id=__span-82-5><a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a><span class=w>    </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class=s>&quot;https://charts.bitnami.com/bitnami&quot;</span>
</span><span id=__span-82-6><a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a><span class=w>    </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis.enabled</span>
</span></code></pre></div> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-83-1><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=c1># 3. Add Redis configuration to values.yaml:</span>
</span><span id=__span-83-2><a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a><span class=nt>redis</span><span class=p>:</span>
</span><span id=__span-83-3><a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a><span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-83-4><a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a><span class=w>  </span><span class=nt>architecture</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">standalone</span>
</span><span id=__span-83-5><a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a><span class=w>  </span><span class=nt>auth</span><span class=p>:</span>
</span><span id=__span-83-6><a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-84-1><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=c1># 4. Add the Bitnami repo (if not already added)</span>
</span><span id=__span-84-2><a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>bitnami<span class=w> </span>https://charts.bitnami.com/bitnami
</span><span id=__span-84-3><a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a>helm<span class=w> </span>repo<span class=w> </span>update
</span><span id=__span-84-4><a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a>
</span><span id=__span-84-5><a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a><span class=c1># 5. Download the dependency charts</span>
</span><span id=__span-84-6><a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a>helm<span class=w> </span>dependency<span class=w> </span>update<span class=w> </span>.
</span><span id=__span-84-7><a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a>
</span><span id=__span-84-8><a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a><span class=c1># 6. Verify the dependency was downloaded</span>
</span><span id=__span-84-9><a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a>ls<span class=w> </span>charts/
</span><span id=__span-84-10><a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a>
</span><span id=__span-84-11><a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a><span class=c1># 7. Preview the rendered output (Redis resources will be included)</span>
</span><span id=__span-84-12><a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a>helm<span class=w> </span>template<span class=w> </span>myapp-with-deps<span class=w> </span>.<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span><span class=s2>&quot;kind:&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>sort<span class=w> </span><span class=p>|</span><span class=w> </span>uniq
</span><span id=__span-84-13><a id=__codelineno-84-13 name=__codelineno-84-13 href=#__codelineno-84-13></a>
</span><span id=__span-84-14><a id=__codelineno-84-14 name=__codelineno-84-14 href=#__codelineno-84-14></a><span class=c1># 8. Cleanup</span>
</span><span id=__span-84-15><a id=__codelineno-84-15 name=__codelineno-84-15 href=#__codelineno-84-15></a><span class=nb>cd</span><span class=w> </span>..
</span><span id=__span-84-16><a id=__codelineno-84-16 name=__codelineno-84-16 href=#__codelineno-84-16></a>rm<span class=w> </span>-rf<span class=w> </span>myapp-with-deps
</span></code></pre></div> </details> <hr> <h4 id=10-create-a-pre-install-hook>10. Create a Pre-Install Hook<a class=headerlink href=#10-create-a-pre-install-hook title="Permanent link">&para;</a></h4> <p>Add a <code>pre-install</code> hook to the <code>codewizard-helm-demo</code> chart that creates a Job to print a banner message before the main resources are installed.</p> <h4 id=scenario_9>Scenario:<a class=headerlink href=#scenario_9 title="Permanent link">&para;</a></h4> <p>◦ Hooks allow you to run setup, migration, or validation tasks at specific lifecycle points. ◦ <code>pre-install</code> hooks run before the main chart resources are created.</p> <p><strong>Hint:</strong> Create a <code>Job</code> manifest with the annotation <code>"helm.sh/hook": pre-install</code> and <code>"helm.sh/hook-delete-policy": hook-succeeded</code>.</p> <details> <summary>Solution</summary> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-85-1><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=c1># Create templates/pre-install-hook.yaml:</span>
</span><span id=__span-85-2><a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-85-3><a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-85-4><a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-85-5><a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>include &quot;webserver.fullname&quot; .</span><span class=w> </span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">-pre-install</span>
</span><span id=__span-85-6><a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codewizard</span>
</span><span id=__span-85-7><a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
</span><span id=__span-85-8><a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a><span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pre-install</span>
</span><span id=__span-85-9><a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-weight&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;-5&quot;</span>
</span><span id=__span-85-10><a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a><span class=w>    </span><span class=s>&quot;helm.sh/hook-delete-policy&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hook-succeeded</span>
</span><span id=__span-85-11><a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-85-12><a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-85-13><a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-85-14><a id=__codelineno-85-14 name=__codelineno-85-14 href=#__codelineno-85-14></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-85-15><a id=__codelineno-85-15 name=__codelineno-85-15 href=#__codelineno-85-15></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pre-install</span>
</span><span id=__span-85-16><a id=__codelineno-85-16 name=__codelineno-85-16 href=#__codelineno-85-16></a><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">busybox</span>
</span><span id=__span-85-17><a id=__codelineno-85-17 name=__codelineno-85-17 href=#__codelineno-85-17></a><span class=w>          </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;sh&#39;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&#39;-c&#39;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&#39;echo</span><span class=nv> </span><span class=s>&quot;===</span><span class=nv> </span><span class=s>Installing</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>.Release.Name</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>(Chart:</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>.Chart.Name</span><span class=nv> </span><span class=s>}}-{{</span><span class=nv> </span><span class=s>.Chart.Version</span><span class=nv> </span><span class=s>}})</span><span class=nv> </span><span class=s>===&quot;&#39;</span><span class="p p-Indicator">]</span>
</span><span id=__span-85-18><a id=__codelineno-85-18 name=__codelineno-85-18 href=#__codelineno-85-18></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span><span id=__span-85-19><a id=__codelineno-85-19 name=__codelineno-85-19 href=#__codelineno-85-19></a><span class=w>  </span><span class=nt>backoffLimit</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-86-1><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=c1># Install and observe the hook</span>
</span><span id=__span-86-2><a id=__codelineno-86-2 name=__codelineno-86-2 href=#__codelineno-86-2></a>helm<span class=w> </span>install<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz
</span><span id=__span-86-3><a id=__codelineno-86-3 name=__codelineno-86-3 href=#__codelineno-86-3></a>
</span><span id=__span-86-4><a id=__codelineno-86-4 name=__codelineno-86-4 href=#__codelineno-86-4></a><span class=c1># The Job should run and complete before the main resources are created</span>
</span><span id=__span-86-5><a id=__codelineno-86-5 name=__codelineno-86-5 href=#__codelineno-86-5></a><span class=c1># Check the jobs (it may already be cleaned up due to hook-delete-policy)</span>
</span><span id=__span-86-6><a id=__codelineno-86-6 name=__codelineno-86-6 href=#__codelineno-86-6></a>kubectl<span class=w> </span>get<span class=w> </span><span class=nb>jobs</span><span class=w> </span>-n<span class=w> </span>codewizard
</span><span id=__span-86-7><a id=__codelineno-86-7 name=__codelineno-86-7 href=#__codelineno-86-7></a>
</span><span id=__span-86-8><a id=__codelineno-86-8 name=__codelineno-86-8 href=#__codelineno-86-8></a><span class=c1># Cleanup</span>
</span><span id=__span-86-9><a id=__codelineno-86-9 name=__codelineno-86-9 href=#__codelineno-86-9></a>helm<span class=w> </span>uninstall<span class=w> </span>codewizard-helm-demo
</span><span id=__span-86-10><a id=__codelineno-86-10 name=__codelineno-86-10 href=#__codelineno-86-10></a>rm<span class=w> </span>codewizard-helm-demo/templates/pre-install-hook.yaml
</span></code></pre></div> </details> <hr> <h4 id=11-diff-before-upgrade>11. Diff Before Upgrade<a class=headerlink href=#11-diff-before-upgrade title="Permanent link">&para;</a></h4> <p>Use the <code>helm-diff</code> plugin to preview what changes an upgrade will make before applying it.</p> <h4 id=scenario_10>Scenario:<a class=headerlink href=#scenario_10 title="Permanent link">&para;</a></h4> <p>◦ In production, blindly upgrading without reviewing changes is risky. ◦ The <code>helm-diff</code> plugin shows a diff of what would change, similar to <code>kubectl diff</code>.</p> <p><strong>Hint:</strong> Install the plugin with <code>helm plugin install</code>, then use <code>helm diff upgrade</code>.</p> <details> <summary>Solution</summary> <div class="language-bash highlight"><pre><span></span><code><span id=__span-87-1><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=c1># 1. Install the helm-diff plugin</span>
</span><span id=__span-87-2><a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a>helm<span class=w> </span>plugin<span class=w> </span>install<span class=w> </span>https://github.com/databus23/helm-diff
</span><span id=__span-87-3><a id=__codelineno-87-3 name=__codelineno-87-3 href=#__codelineno-87-3></a>
</span><span id=__span-87-4><a id=__codelineno-87-4 name=__codelineno-87-4 href=#__codelineno-87-4></a><span class=c1># 2. Make sure the release is installed</span>
</span><span id=__span-87-5><a id=__codelineno-87-5 name=__codelineno-87-5 href=#__codelineno-87-5></a>helm<span class=w> </span>install<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz
</span><span id=__span-87-6><a id=__codelineno-87-6 name=__codelineno-87-6 href=#__codelineno-87-6></a>
</span><span id=__span-87-7><a id=__codelineno-87-7 name=__codelineno-87-7 href=#__codelineno-87-7></a><span class=c1># 3. Preview what an upgrade would change (without applying)</span>
</span><span id=__span-87-8><a id=__codelineno-87-8 name=__codelineno-87-8 href=#__codelineno-87-8></a>helm<span class=w> </span>diff<span class=w> </span>upgrade<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz<span class=w> </span><span class=se>\</span>
</span><span id=__span-87-9><a id=__codelineno-87-9 name=__codelineno-87-9 href=#__codelineno-87-9></a><span class=w>  </span>--set<span class=w> </span>nginx.conf.message<span class=o>=</span><span class=s2>&quot;Updated Message&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-87-10><a id=__codelineno-87-10 name=__codelineno-87-10 href=#__codelineno-87-10></a><span class=w>  </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>5</span>
</span><span id=__span-87-11><a id=__codelineno-87-11 name=__codelineno-87-11 href=#__codelineno-87-11></a>
</span><span id=__span-87-12><a id=__codelineno-87-12 name=__codelineno-87-12 href=#__codelineno-87-12></a><span class=c1># The output shows colorized diff of what resources would change</span>
</span><span id=__span-87-13><a id=__codelineno-87-13 name=__codelineno-87-13 href=#__codelineno-87-13></a>
</span><span id=__span-87-14><a id=__codelineno-87-14 name=__codelineno-87-14 href=#__codelineno-87-14></a><span class=c1># 4. If you&#39;re satisfied, apply the upgrade</span>
</span><span id=__span-87-15><a id=__codelineno-87-15 name=__codelineno-87-15 href=#__codelineno-87-15></a>helm<span class=w> </span>upgrade<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz<span class=w> </span><span class=se>\</span>
</span><span id=__span-87-16><a id=__codelineno-87-16 name=__codelineno-87-16 href=#__codelineno-87-16></a><span class=w>  </span>--set<span class=w> </span>nginx.conf.message<span class=o>=</span><span class=s2>&quot;Updated Message&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-87-17><a id=__codelineno-87-17 name=__codelineno-87-17 href=#__codelineno-87-17></a><span class=w>  </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>5</span>
</span><span id=__span-87-18><a id=__codelineno-87-18 name=__codelineno-87-18 href=#__codelineno-87-18></a>
</span><span id=__span-87-19><a id=__codelineno-87-19 name=__codelineno-87-19 href=#__codelineno-87-19></a><span class=c1># Cleanup</span>
</span><span id=__span-87-20><a id=__codelineno-87-20 name=__codelineno-87-20 href=#__codelineno-87-20></a>helm<span class=w> </span>uninstall<span class=w> </span>codewizard-helm-demo
</span></code></pre></div> </details> <hr> <h4 id=12-create-a-notestxt>12. Create a NOTES.txt<a class=headerlink href=#12-create-a-notestxt title="Permanent link">&para;</a></h4> <p>Add a <code>NOTES.txt</code> file to the <code>codewizard-helm-demo</code> chart that displays the release name, namespace, and instructions for testing the service after installation.</p> <h4 id=scenario_11>Scenario:<a class=headerlink href=#scenario_11 title="Permanent link">&para;</a></h4> <p>◦ <code>NOTES.txt</code> provides post-install guidance to users who install your chart. ◦ It supports the same Go template syntax as other template files.</p> <p><strong>Hint:</strong> Create <code>templates/NOTES.txt</code> with template directives like <code>{{ .Release.Name }}</code>.</p> <details> <summary>Solution</summary> <div class="language-text highlight"><pre><span></span><code><span id=__span-88-1><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a># Create templates/NOTES.txt with the following content:
</span><span id=__span-88-2><a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a>
</span><span id=__span-88-3><a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a>==================================================
</span><span id=__span-88-4><a id=__codelineno-88-4 name=__codelineno-88-4 href=#__codelineno-88-4></a>  {{ .Chart.Name }} has been installed!
</span><span id=__span-88-5><a id=__codelineno-88-5 name=__codelineno-88-5 href=#__codelineno-88-5></a>==================================================
</span><span id=__span-88-6><a id=__codelineno-88-6 name=__codelineno-88-6 href=#__codelineno-88-6></a>
</span><span id=__span-88-7><a id=__codelineno-88-7 name=__codelineno-88-7 href=#__codelineno-88-7></a>Release Name : {{ .Release.Name }}
</span><span id=__span-88-8><a id=__codelineno-88-8 name=__codelineno-88-8 href=#__codelineno-88-8></a>Namespace    : codewizard
</span><span id=__span-88-9><a id=__codelineno-88-9 name=__codelineno-88-9 href=#__codelineno-88-9></a>Revision     : {{ .Release.Revision }}
</span><span id=__span-88-10><a id=__codelineno-88-10 name=__codelineno-88-10 href=#__codelineno-88-10></a>Chart Version: {{ .Chart.Version }}
</span><span id=__span-88-11><a id=__codelineno-88-11 name=__codelineno-88-11 href=#__codelineno-88-11></a>App Version  : {{ .Chart.AppVersion }}
</span><span id=__span-88-12><a id=__codelineno-88-12 name=__codelineno-88-12 href=#__codelineno-88-12></a>
</span><span id=__span-88-13><a id=__codelineno-88-13 name=__codelineno-88-13 href=#__codelineno-88-13></a>To test the service, run:
</span><span id=__span-88-14><a id=__codelineno-88-14 name=__codelineno-88-14 href=#__codelineno-88-14></a>
</span><span id=__span-88-15><a id=__codelineno-88-15 name=__codelineno-88-15 href=#__codelineno-88-15></a>  kubectl run busybox --image=busybox --rm -it --restart=Never \
</span><span id=__span-88-16><a id=__codelineno-88-16 name=__codelineno-88-16 href=#__codelineno-88-16></a>    -- /bin/sh -c &quot;wget -qO- http://{{ include &quot;webserver.fullname&quot; . }}.codewizard.svc.cluster.local&quot;
</span><span id=__span-88-17><a id=__codelineno-88-17 name=__codelineno-88-17 href=#__codelineno-88-17></a>
</span><span id=__span-88-18><a id=__codelineno-88-18 name=__codelineno-88-18 href=#__codelineno-88-18></a>To check release status:
</span><span id=__span-88-19><a id=__codelineno-88-19 name=__codelineno-88-19 href=#__codelineno-88-19></a>
</span><span id=__span-88-20><a id=__codelineno-88-20 name=__codelineno-88-20 href=#__codelineno-88-20></a>  helm status {{ .Release.Name }}
</span><span id=__span-88-21><a id=__codelineno-88-21 name=__codelineno-88-21 href=#__codelineno-88-21></a>
</span><span id=__span-88-22><a id=__codelineno-88-22 name=__codelineno-88-22 href=#__codelineno-88-22></a>To uninstall:
</span><span id=__span-88-23><a id=__codelineno-88-23 name=__codelineno-88-23 href=#__codelineno-88-23></a>
</span><span id=__span-88-24><a id=__codelineno-88-24 name=__codelineno-88-24 href=#__codelineno-88-24></a>  helm uninstall {{ .Release.Name }}
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-89-1><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class=c1># Install and verify the NOTES are displayed</span>
</span><span id=__span-89-2><a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a>helm<span class=w> </span>install<span class=w> </span>codewizard-helm-demo<span class=w> </span>codewizard-helm-demo-0.1.0.tgz
</span><span id=__span-89-3><a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a>
</span><span id=__span-89-4><a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a><span class=c1># The NOTES should be displayed after installation</span>
</span><span id=__span-89-5><a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a><span class=c1># You can also view them again with:</span>
</span><span id=__span-89-6><a id=__codelineno-89-6 name=__codelineno-89-6 href=#__codelineno-89-6></a>helm<span class=w> </span>status<span class=w> </span>codewizard-helm-demo
</span><span id=__span-89-7><a id=__codelineno-89-7 name=__codelineno-89-7 href=#__codelineno-89-7></a>
</span><span id=__span-89-8><a id=__codelineno-89-8 name=__codelineno-89-8 href=#__codelineno-89-8></a><span class=c1># Cleanup</span>
</span><span id=__span-89-9><a id=__codelineno-89-9 name=__codelineno-89-9 href=#__codelineno-89-9></a>helm<span class=w> </span>uninstall<span class=w> </span>codewizard-helm-demo
</span></code></pre></div> </details> <hr> <h2 id=finalize-cleanup>Finalize &amp; Cleanup<a class=headerlink href=#finalize-cleanup title="Permanent link">&para;</a></h2> <ul> <li>To remove all resources created by this lab, uninstall the <code>codewizard-helm-demo</code> release:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-90-1><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a>helm<span class=w> </span>uninstall<span class=w> </span>codewizard-helm-demo
</span></code></pre></div> <ul> <li>(Optional) If you have created a dedicated namespace for this lab, you can delete it by running:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-91-1><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a>kubectl<span class=w> </span>delete<span class=w> </span>namespace<span class=w> </span>codewizard
</span></code></pre></div> <ul> <li>(Optional) Remove added Helm repositories:</li> </ul> <div class="language-sh highlight"><pre><span></span><code><span id=__span-92-1><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a>helm<span class=w> </span>repo<span class=w> </span>remove<span class=w> </span>bitnami
</span></code></pre></div> <hr> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <ul> <li><strong>Helm not found:</strong></li> </ul> <p>Make sure <code>Helm</code> is installed and available in your <code>PATH</code>. Run the following to verify:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-93-1><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a>helm<span class=w> </span>version
</span></code></pre></div> <p><br></p> <ul> <li><strong>Pods not starting:</strong></li> </ul> <p>Check pod status and logs by running the following commands:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-94-1><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a>kubectl<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-n<span class=w> </span>codewizard
</span><span id=__span-94-2><a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a>kubectl<span class=w> </span>describe<span class=w> </span>pod<span class=w> </span>&lt;pod-name&gt;<span class=w> </span>-n<span class=w> </span>codewizard
</span><span id=__span-94-3><a id=__codelineno-94-3 name=__codelineno-94-3 href=#__codelineno-94-3></a>kubectl<span class=w> </span>logs<span class=w> </span>&lt;pod-name&gt;<span class=w> </span>-n<span class=w> </span>codewizard
</span></code></pre></div> <p><br></p> <ul> <li><strong>Service not reachable:</strong></li> </ul> <p>Ensure the service and pods are running by running the following commands:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-95-1><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a>kubectl<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>codewizard
</span><span id=__span-95-2><a id=__codelineno-95-2 name=__codelineno-95-2 href=#__codelineno-95-2></a>kubectl<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-n<span class=w> </span>codewizard
</span></code></pre></div> <p><br></p> <ul> <li><strong>Values not updated after upgrade:</strong></li> </ul> <p>Double-check your <code>--set</code> or <code>--values</code> flags and confirm the upgrade by running:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-96-1><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a>helm<span class=w> </span>get<span class=w> </span>values<span class=w> </span>codewizard-helm-demo
</span></code></pre></div> <p><br></p> <ul> <li><strong>Template rendering errors:</strong></li> </ul> <p>Use <code>helm template</code> and <code>helm lint</code> to find and debug template issues:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-97-1><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a>helm<span class=w> </span>template<span class=w> </span>codewizard-helm-demo
</span><span id=__span-97-2><a id=__codelineno-97-2 name=__codelineno-97-2 href=#__codelineno-97-2></a>helm<span class=w> </span>lint<span class=w> </span>codewizard-helm-demo
</span></code></pre></div> <p><br></p> <ul> <li><strong>Hook failures:</strong></li> </ul> <p>Inspect hook resources (Jobs, Pods) to check their status and logs:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-98-1><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a>kubectl<span class=w> </span>get<span class=w> </span><span class=nb>jobs</span><span class=w> </span>-n<span class=w> </span>codewizard
</span><span id=__span-98-2><a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a>kubectl<span class=w> </span>logs<span class=w> </span>job/&lt;job-name&gt;<span class=w> </span>-n<span class=w> </span>codewizard
</span></code></pre></div> <hr> <h2 id=next-steps>Next Steps<a class=headerlink href=#next-steps title="Permanent link">&para;</a></h2> <ul> <li>Try creating your own <code>Helm</code> chart for a different application.</li> <li>Explore <code>Helm</code> chart repositories like <a href=https://artifacthub.io/ >Artifact Hub</a>.</li> <li>Learn about advanced <code>Helm</code> features, such as: dependencies, hooks, and chart testing.</li> <li>Explore <a href=https://github.com/helmfile/helmfile>Helmfile</a> for declarative management of multiple Helm releases.</li> <li>Learn about <a href=https://github.com/jkroepke/helm-secrets>Helm Secrets</a> for managing sensitive data in charts. ````</li> </ul> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Render date of last update --> <!-- Render date of creation --> <!-- ---------------------------------------------------------------------- --> <!-- Render authors --> <!-- ---------------------------------------------------------------------- --> <!-- Render committers from GitHub --> <!-- Render committers from GitLab --> <!-- Render committers --> <!-- ---------------------------------------------------------------------- --> <!-- Determine date of last update --> <!-- Determine date of creation --> <!-- Source file information --> <aside class=md-source-file> <!-- Date of last update --> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 24, 2026 03:49:07 UTC">February 24, 2026</span> </span> <!-- Authors (git-authors plugin) --> <!-- Authors (git-committers plugin) --> <!-- Fallback: Manual GitHub avatar for repository owner --> <span class=md-source-file__fact> <nav> <a href=https://github.com/nirgeier class=md-author title=@nirgeier> <img src="https://avatars.githubusercontent.com/u/555154?size=256" alt="Nir Geier"> </a> </nav> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class=logo1></div> <div class=logo2></div> <!-- Link to previous and/or next page --> <nav class="md-footer__inner md-grid" aria-label=Footer> <!-- Link to previous page --> <a href=../29-EFK/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 29 EFK Stack"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> 29 EFK Stack </div> </div> </a> <!-- <ul class="social-badges">
          <li><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target="_blank" rel="noopener"><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a></li>
          <li><a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="sr-only">LinkedIn profile</span></a></li>
          <li><a href="mailto:nirgeier@gmail.com"><img src="https://img.shields.io/badge/-nirgeier@gmail.com-fcc624?style=flat&logo=Gmail&logoColor=red" alt="Gmail Badge"></a></li>
          <li><a href="mailto:nirg@codewizard.co.il"><img src="https://img.shields.io/badge/-nirg@codewizard.co.il-fcc624?style=flat&logo=microsoftoutlook&logoColor=blue" alt="Outlook Badge"></a></li>
        </ul> --> <!-- Link to next page --> <a href=../18-ArgoCD/ class="md-footer__link md-footer__link--next" aria-label="Next: 18 ArgoCD"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> 18 ArgoCD </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> ©2021-2026 Nir Geier<br><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target=_blank rel=noopener><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a> </div> </div> <!-- Social links --> <div class=md-social> <a href=https://github.com/nirgeier/KubernetesLabs target=_blank rel=noopener title="View on GitHub" class="md-social__link social-class__github"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://github.com/nirgeier/KubernetesLabs/network/members target=_blank rel=noopener title="Fork this repo" class="md-social__link social-class__fork"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg> </a> <a href=https://github.com/nirgeier/KubernetesLabs/stargazers target=_blank rel=noopener title="Star this repo" class="md-social__link social-class__star"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg> </a> <a href=https://www.linkedin.com/in/nirgeier/ target=_blank rel=noopener title="Connect on LinkedIn" class="md-social__link social-class__linkedin"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://discord.gg/U6xW23Ss target=_blank rel=noopener title="Follow me on Discord" class="md-social__link social-class__discord"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://stackoverflow.com/users/1755598/codewizard target=_blank rel=noopener title="Follow me on Stack Overflow" class="md-social__link social-class__stackoverflow"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg> </a> <a href=https://wa.me/972548122310 target=_blank rel=noopener title="Follow me on WhatsApp" class="md-social__link social-class__whatsapp"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg> </a> <a href=mailto:nirg@codewizard.co.il target=_blank rel=noopener title="Email me" class="md-social__link social-class__email"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "content.footer.last-updated", "content.footer.contributors", {"navigation.expand": false}, "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", {"navigation.top": true}, "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "toc.sticky"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.50899def.min.js></script> <script src=../js/print-site.js></script> <script src="https://buttons.github.io/buttons.js?v=1772199666"></script> <script src=https://unpkg.com/mermaid@11/dist/mermaid.esm.min.mjs type=module></script> </body> </html>